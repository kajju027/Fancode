
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>OFFICIAL FANCODE LIVE STREAM PLAYER | WATCH FREE HD CRICKET, FOOTBALL & SPORTS ONLINE | 24/7 HLS STREAMING</title>

<meta name="description" content="WATCH ALL FANCODE LIVE STREAMS, INCLUDING HD CRICKET, FOOTBALL, AND KABADDI, ON OUR CUSTOM HLS PLAYER. FREE, SMOOTH, AND SECURE LIVE SPORTS STREAMING.">
</head>
<body>
    <script>
        // The encrypted string is injected here:
        let encrypted = "PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CjxtZXRhIGNoYXJzZXQ9IlVURi04Ij4KPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPW5vIj4KCjx0aXRsZT5PRkZJQ0lBTCBGQU5DT0RFIExJVkUgU1RSRUFNIFBMQVlFUiB8IFdBVENIIEZSRUUgSEQgQ1JJQ0tFVCwgRk9PVEJBTEwgJiBTUE9SVFMgT05MSU5FIHwgMjQvNyBITFMgU1RSRUFNSU5HPC90aXRsZT4KCjxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSJXQVRDSCBBTEwgRkFOQ09ERSBMSVZFIFNUUkVBTVMsIElOQ0xVRElORyBIRCBDUklDS0VULCBGT09UQkFMTCwgQU5EIEtBQkFEREksIE9OIE9VUiBDVVNUT00gSExTIFBMQVlFUi4gRlJFRSwgU01PT1RILCBBTkQgU0VDVVJFIExJVkUgU1BPUlRTIFNUUkVBTUlORy4iPgoKPG1ldGEgbmFtZT0icmVmZXJyZXIiIGNvbnRlbnQ9Im5vLXJlZmVycmVyIiAvPgoKPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5wbHlyLmlvLzMuNy44L3BseXIuY3NzIiAvPgoKPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tIj4KPGxpbmsgcmVsPSJwcmVjb25uZWN0IiBocmVmPSJodHRwczovL2ZvbnRzLmdzdGF0aWMuY29tIiBjcm9zc29yaWdpbj4KPGxpbmsgaHJlZj0iaHR0cHM6Ly9mb250cy5nb29nbGVhcGlzLmNvbS9jc3MyP2ZhbWlseT1BbWFyYW50aDppdGFsLHdnaHRAMCw0MDA7MCw3MDA7MSw3MDAmZmFtaWx5PUJlYmFzK05ldWUmZmFtaWx5PVBvcHBpbnM6d2dodEA0MDA7NzAwJmRpc3BsYXk9c3dhcCIgcmVsPSJzdHlsZXNoZWV0Ij4KCjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZm9udC1hd2Vzb21lLzYuNC4wL2Nzcy9hbGwubWluLmNzcyI+Cgo8c3R5bGU+Cjpyb290IHsKICAgIC0tYmctY29sb3I6ICMxMjEyMTI7CiAgICAtLXByaW1hcnktY29sb3I6ICNlMzAwMDA7IC8qIFJlZCBBY2NlbnQgKi8KICAgIC0tcHJpbWFyeS1jb2xvci1kYXJrOiAjYjMwMDAwOwogICAgLS1jYXJkLWJnOiAjMWUxZTFlOwogICAgLS10ZXh0LWxpZ2h0OiAjZjFmNWY5OwogICAgLS10ZXh0LW11dGVkOiAjOTRhM2I4OwogICAgLS1ib3JkZXItY29sb3I6ICMyZDJkMmQ7CiAgICAtLXBvcHVwLWJnOiAjMDAwMDAwOwogICAgLS1wb3B1cC1zaGFkb3ctY29sb3I6IHJnYmEoMjI3LCAwLCAwLCAwLjQpOwogICAgLS1wbHlyLWNvbG9yLW1haW46ICMwZWE1ZTk7IC8qIEJsdWUgZm9yIFBseXIgcHJvZ3Jlc3MgYmFyICovCn0KKiB7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgfQpodG1sLGJvZHl7aGVpZ2h0OjEwMCV9CmJvZHkgewogICAgZm9udC1mYW1pbHk6ICdBbWFyYW50aCcsIHNhbnMtc2VyaWY7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1iZy1jb2xvcik7CiAgICBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsKICAgIG1pbi1oZWlnaHQ6IDEwMHZoOwogICAgcGFkZGluZzogMXJlbTsKICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlOwp9Ci5jb250YWluZXIgewogICAgd2lkdGg6IDEwMCU7CiAgICBtYXgtd2lkdGg6IDgwMHB4OwogICAgb3BhY2l0eTogMDsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgyMHB4KTsKICAgIGFuaW1hdGlvbjogZmFkZUluIDAuNXMgZWFzZS1vdXQgZm9yd2FyZHM7Cn0KQGtleWZyYW1lcyBmYWRlSW4geyB0byB7IG9wYWNpdHk6IDE7IHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfSB9CgouY29udGVudC1oaWRkZW4gLmNvbnRhaW5lciB7CiAgICBvcGFjaXR5OiAwICFpbXBvcnRhbnQ7CiAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKfQoKLnN0cmVhbS1oZWFkZXIgewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY2FyZC1iZyk7CiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpOwogICAgcGFkZGluZzogMC43NXJlbSAxLjI1cmVtOwogICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgbWFyZ2luLWJvdHRvbTogMXJlbTsKfQouc3RyZWFtLWhlYWRlciBoMSB7IGZvbnQtc2l6ZTogMS4yNXJlbTsgZm9udC13ZWlnaHQ6IDYwMDsgfQoubGl2ZS1iYWRnZSB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIHBhZGRpbmc6IDAuMjVyZW0gMC43NXJlbTsKICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICBmb250LXNpemU6IDAuNzVyZW07CiAgICBmb250LXdlaWdodDogNzAwOwogICAgZGlzcGxheTogZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBnYXA6IDAuNHJlbTsKICAgIGFuaW1hdGlvbjogcHVsc2UgMS41cyBpbmZpbml0ZTsKfQpAa2V5ZnJhbWVzIHB1bHNlIHsKICAgIDAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgYm94LXNoYWRvdzogMCAwIDAgMCByZ2JhKDIyNywgMCwgMCwgMC43KTsgfQogICAgNzAlIHsgdHJhbnNmb3JtOiBzY2FsZSgxKTsgYm94LXNoYWRvdzogMCAwIDAgMTBweCByZ2JhKDIyNywgMCwgMCwgMCk7IH0KICAgIDEwMCUgeyB0cmFuc2Zvcm06IHNjYWxlKDEpOyBib3gtc2hhZG93OiAwIDAgMCAwIHJnYmEoMjI3LCAwLCAwLCAwKTsgfQp9CiNwbGF5ZXItY29udGFpbmVyIHsKICAgIHdpZHRoOiAxMDAlOwogICAgLyogRml4ZWQgaGVpZ2h0IGZvciBpbml0aWFsIGVtYmVkIHZpZXcgKi8KICAgIGhlaWdodDogNTB2aDsgCiAgICBtYXgtaGVpZ2h0OiA2MDBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7CiAgICBib3gtc2hhZG93OiAwIDEwcHggMjVweCByZ2JhKDAsIDAsIDAsIDAuMyk7CiAgICBib3JkZXItcmFkaXVzOiAxMnB4OwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoKLyogUExZUiBFTEVNRU5UIFNUWUxFUyAqLwojcGxheWVyLWNvbnRhaW5lciAucGx5ciB7CiAgICB3aWR0aDogMTAwJTsKICAgIGhlaWdodDogMTAwJTsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiAwOwogICAgbGVmdDogMDsKICAgIHotaW5kZXg6IDE7Cn0KCi5wbHlyLS1mdWxsc2NyZWVuLWFjdGl2ZSAjcGxheWVyLWNvbnRhaW5lciB7CiAgICBib3JkZXItcmFkaXVzOiAwOwp9CgovKiBGYWxsYmFjayBSb3RhdGlvbiBDU1MgKi8KLnJvdGF0ZS1mYWxsYmFjay1ub3RpY2V7CiAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgIGxlZnQ6MTJweDsKICAgIGJvdHRvbToxMnB4OwogICAgei1pbmRleDoyMjAwMDsKICAgIGJhY2tncm91bmQ6cmdiYSgwLDAsMCwwLjU1KTsKICAgIGNvbG9yOnZhcigtLXRleHQtbGlnaHQpOwogICAgcGFkZGluZzouNHJlbSAuNnJlbTsKICAgIGJvcmRlci1yYWRpdXM6OHB4OwogICAgZm9udC1zaXplOi44cmVtOwogICAgZGlzcGxheTpub25lOwp9Ci5wbGF5ZXItcm90YXRlZHsKICAgIHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlciBjZW50ZXI7CiAgICB3aWR0aDoxMDB2aDsKICAgIGhlaWdodDoxMDB2dzsKICAgIHBvc2l0aW9uOmZpeGVkOwogICAgdG9wOjUwJTsKICAgIGxlZnQ6NTAlOwogICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpIHJvdGF0ZSg5MGRlZyk7CiAgICB6LWluZGV4OjIxMDAwOwogICAgYm9yZGVyLXJhZGl1czowOwp9Ci5wbGF5ZXItcm90YXRlZCAuc3RyZWFtLWhlYWRlciwKLnBsYXllci1yb3RhdGVkIC5pbmZvLWNhcmQsCi5wbGF5ZXItcm90YXRlZCAuYmFjay1saW5rLAoucGx5ci0tZnVsbHNjcmVlbi1hY3RpdmUgLnN0cmVhbS1oZWFkZXIsCi5wbHlyLS1mdWxsc2NyZWVuLWFjdGl2ZSAuaW5mby1jYXJkLAoucGx5ci0tZnVsbHNjcmVlbi1hY3RpdmUgLmJhY2stbGluayB7CiAgICBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7Cn0KCgouaW5mby1jYXJkIHsKICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtYmcpOwogICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgIGJvcmRlci1yYWRpdXM6IDEycHg7CiAgICBwYWRkaW5nOiAxLjI1cmVtOwogICAgbWFyZ2luLXRvcDogMXJlbTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKfQouaW5mby1jYXJkIGgyIHsKICAgIGZvbnQtZmFtaWx5OiAnQmViYXMgTmV1ZScsIHNhbnMtc2VyaWY7CiAgICBmb250LXNpemU6IDEuMjVyZW07CiAgICBmb250LXdlaWdodDogNDAwOwogICAgbWFyZ2luLWJvdHRvbTogMXJlbTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBnYXA6IDAuNXJlbTsKICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsKfQouYWN0aW9uLWJ1dHRvbiB7CiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGdhcDogMC43NXJlbTsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogMC44cmVtIDFyZW07CiAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHZhcigtLXByaW1hcnktY29sb3IpLCB2YXIoLS1wcmltYXJ5LWNvbG9yLWRhcmspKTsKICAgIGNvbG9yOiB3aGl0ZTsKICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7CiAgICBib3JkZXI6IG5vbmU7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4ycyBlYXNlLCBib3gtc2hhZG93IDAuMnMgZWFzZTsKfQouYWN0aW9uLWJ1dHRvbjpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICBib3gtc2hhZG93OiAwIDZweCAxNXB4IHZhcigtLXBvcHVwLXNoYWRvdy1jb2xvcik7Cn0KLmFjdGlvbi1idXR0b24uY29waWVkIHsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMjJjNTVlLCAjNGFkZTgwKTsgfQouYmFjay1saW5rIHsKICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgIHdpZHRoOiAxMDAlOwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luLXRvcDogMS41cmVtOwogICAgY29sb3I6IHZhcigtLXRleHQtbXV0ZWQpOwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgcGFkZGluZzogMC41cmVtOwogICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2U7Cn0KLmJhY2stbGluazpob3ZlciB7IGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNhcmQtYmcpOyBjb2xvcjogdmFyKC0tdGV4dC1saWdodCk7IH0KCi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KICAgTkVXIEVSUk9SIFBBR0UgU1RZTEVTIChJbnRlZ3JhdGVkKQogICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09CiovCi5lcnJvci1jb250YWluZXIgewogICAgd2lkdGg6IDEwMCU7CiAgICAvKiBGaXRzIHdpdGhpbiB0aGUgcGFyZW50IGNvbnRhaW5lciAqLwogICAgbWluLWhlaWdodDogNjB2aDsgCiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kOiByYWRpYWwtZ3JhZGllbnQoY2lyY2xlIGF0IGNlbnRlciwgIzFhMWExYSAwJSwgIzAwMDAwMCAxMDAlKTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICMyZDJkMmQ7CiAgICBib3JkZXItcmFkaXVzOiAyNHB4OwogICAgcGFkZGluZzogNHJlbSAycmVtOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgIGJveC1zaGFkb3c6IDAgMjVweCA2MHB4IHJnYmEoMCwwLDAsMC45KTsKICAgIGZvbnQtZmFtaWx5OiAnUG9wcGlucycsIHNhbnMtc2VyaWY7IC8qIEV4cGxpY2l0bHkgdXNlIFBvcHBpbnMgZm9yIGVycm9yIGNhcmQgKi8KICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9CgouZXJyb3ItY29udGFpbmVyOjpiZWZvcmUgewogICAgY29udGVudDogJyc7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBpbnNldDogMDsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiZGF0YTppbWFnZS9zdmcreG1sLCUzQ3N2ZyB2aWV3Qm94PScwIDAgMjAwIDIwMCcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyUzRSUzQ2ZpbHRlciBpZD0nbiclM0UlM0NmZVR1cmJ1bGVuY2UgdHlwZT0nZnJhY3RhbE5vaXNlJyBiYXNlRnJlcXVlbmN5PScwLjY1Jy8lM0UlM0MvZmlsdGVyJTNFJTNDcmVjdCB3aWR0aD0nMTAwJTI1JyBoZWlnaHQ9JzEwMCUyNScgZmlsdGVyPSd1cmwoJTIzbiknIG9wYWNpdHk9JzAuMDUnLyUzRSUzQy9zdmclM0UiKTsKICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwp9CgouZXJyb3ItaWNvbi13cmFwcGVyIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIG1hcmdpbi1ib3R0b206IDIuNXJlbTsKfQoKLmVycm9yLWljb24gewogICAgZm9udC1zaXplOiA1cmVtOwogICAgY29sb3I6ICNmZmZmZmY7CiAgICBhbmltYXRpb246IGZsb2F0IDNzIGVhc2UtaW4tb3V0IGluZmluaXRlOwp9CgouZXJyb3ItcmluZyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDUwJTsKICAgIGxlZnQ6IDUwJTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwogICAgd2lkdGg6IDE0MHB4OwogICAgaGVpZ2h0OiAxNDBweDsKICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYmEoMjU1LCAyNTUsIDI1NSwgMC4xNSk7CiAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICBhbmltYXRpb246IHJpcHBsZSAyLjVzIGxpbmVhciBpbmZpbml0ZTsKfQoKLmVycm9yLXRpdGxlIHsKICAgIGZvbnQtc2l6ZTogMi41cmVtOwogICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7CiAgICBjb2xvcjogI2ZmZmZmZjsKICAgIGxldHRlci1zcGFjaW5nOiA2cHg7CiAgICBtYXJnaW4tYm90dG9tOiAxLjJyZW07CiAgICB0ZXh0LXNoYWRvdzogMCAwIDE1cHggcmdiYSgyNTUsMjU1LDI1NSwwLjIpOwp9CgouZXJyb3ItZGVzYyB7CiAgICBjb2xvcjogIzk0YTNiODsKICAgIGZvbnQtc2l6ZTogMS4wNXJlbTsKICAgIG1heC13aWR0aDogNDUwcHg7CiAgICBtYXJnaW46IDAgYXV0byAzcmVtOwogICAgbGluZS1oZWlnaHQ6IDEuNjsKfQoKLmJ0bi1wcmVtaXVtLWJ3IHsKICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgICBjb2xvcjogIzAwMDAwMDsKICAgIHBhZGRpbmc6IDE2cHggNDVweDsKICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7CiAgICBmb250LXdlaWdodDogNzAwOwogICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTsKICAgIGZvbnQtc2l6ZTogMC45cmVtOwogICAgbGV0dGVyLXNwYWNpbmc6IDEuNXB4OwogICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgYm9yZGVyOiAycHggc29saWQgI2ZmZmZmZjsKICAgIGRpc3BsYXk6IGlubGluZS1mbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGdhcDogMTJweDsKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7CiAgICBib3gtc2hhZG93OiAwIDVweCAxNXB4IHJnYmEoMjU1LDI1NSwyNTUsMC4xNSk7CiAgICB6LWluZGV4OiAxMDsKfQoKLmJ0bi1wcmVtaXVtLWJ3OmhvdmVyIHsKICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgY29sb3I6ICNmZmZmZmY7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7CiAgICBib3gtc2hhZG93OiAwIDEwcHggMzBweCByZ2JhKDI1NSwyNTUsMjU1LDAuMjUpOwp9CgpAa2V5ZnJhbWVzIGZsb2F0IHsKICAgIDAlLCAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9CiAgICA1MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTE1cHgpOyB9Cn0KCkBrZXlmcmFtZXMgcmlwcGxlIHsKICAgIDAlIHsgd2lkdGg6IDA7IGhlaWdodDogMDsgb3BhY2l0eTogMC42OyB9CiAgICAxMDAlIHsgd2lkdGg6IDIyMHB4OyBoZWlnaHQ6IDIyMHB4OyBvcGFjaXR5OiAwOyB9Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkgewogICAgLmVycm9yLXRpdGxlIHsgZm9udC1zaXplOiAxLjhyZW07IGxldHRlci1zcGFjaW5nOiAzcHg7IH0KICAgIC5lcnJvci1pY29uIHsgZm9udC1zaXplOiA0cmVtOyB9CiAgICAuZXJyb3ItZGVzYyB7IGZvbnQtc2l6ZTogMC45cmVtOyB9Cn0KCi8qIFZpZXcgQ291bnRlciBTdHlsaW5nIChFeGFjdGx5IGFzIHByb3ZpZGVkKSAqLwoudmlldy1jb3VudGVyIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHRvcDogMTBweDsKICAgIHJpZ2h0OiAxMnB4OwogICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjU1KTsKICAgIHBhZGRpbmc6IDVweCA5cHg7CiAgICBib3JkZXItcmFkaXVzOiA2cHg7CiAgICBmb250LXNpemU6IDExcHg7CiAgICBsaW5lLWhlaWdodDogMS4zOwogICAgY29sb3I6ICNmZmY7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICB6LWluZGV4OiA5OTk5OwogICAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgICBmb250LWZhbWlseTogJ0FtYXJhbnRoJywgc2Fucy1zZXJpZjsKfQoudmlldy1jb3VudGVyIC5uYW1lIHsKICAgIGZvbnQtc2l6ZTogMTBweDsKICAgIG9wYWNpdHk6IDAuODU7Cn0KLnZpZXctY291bnRlciAudmlld3MgewogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IDcwMDsKfQoKLyogLS0tIExvYWRpbmcgT3ZlcmxheSAoQ3VzdG9tIGxhcmdlIGFuZCBwcm9mZXNzaW9uYWwgc3R5bGUpIC0tLSAqLwoubG9hZGluZy1vdmVybGF5IHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIGluc2V0OiAwOwogICAgYmFja2dyb3VuZDogdmFyKC0tcG9wdXAtYmcpOyAvKiBVc2UgcHVyZSBibGFjayBmb3IgZnVsbCBkYXJrIGJhY2tncm91bmQgKi8KICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgei1pbmRleDogMTAwMDA7CiAgICBvcGFjaXR5OiAxOwogICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjVzIGVhc2U7CiAgICBjb2xvcjogI2ZmZjsKfQoKLmxvYWRpbmctb3ZlcmxheS5oaWRkZW4gewogICAgb3BhY2l0eTogMDsKICAgIHBvaW50ZXItZXZlbnRzOiBub25lOwp9CgovKiBNb2Rlcm4gR3JhZGllbnQgTG9hZGVyIChMYXJnZSAtIDEyMHB4KSAqLwoubW9kZXJuLWxvYWRlciB7CiAgICB3aWR0aDogMTIwcHg7CiAgICBoZWlnaHQ6IDEyMHB4OwogICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgcGFkZGluZzogM3B4OwogICAgYmFja2dyb3VuZDogY29uaWMtZ3JhZGllbnQoIzAwMDAgMTAlLCB2YXIoLS1wbHlyLWNvbG9yLW1haW4pKTsKICAgIC13ZWJraXQtbWFzazogcmFkaWFsLWdyYWRpZW50KGZhcnRoZXN0LXNpZGUsICMwMDAwIGNhbGMoMTAwJSAtIDEycHgpLCAjMDAwIDApOwogICAgYW5pbWF0aW9uOiByb3RhdGUgMS41cyBpbmZpbml0ZSBsaW5lYXI7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICBtYXJnaW4tYm90dG9tOiAzMHB4Owp9Ci5tb2Rlcm4tbG9hZGVyOjpiZWZvcmUgewogICAgY29udGVudDogIiI7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBpbnNldDogMDsKICAgIGJvcmRlci1yYWRpdXM6IGluaGVyaXQ7CiAgICBiYWNrZ3JvdW5kOiBjb25pYy1ncmFkaWVudChmcm9tIDE4MGRlZyBhdCA1MCUgNTAlLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMikgMGRlZywgcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjgpIDIwZGVnLCByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMikgMzYwZGVnKTsKfQpAa2V5ZnJhbWVzIHJvdGF0ZSB7CiAgICB0byB7IHRyYW5zZm9ybTogcm90YXRlKDF0dXJuKTsgfQp9CgoubG9hZGluZy1vdmVybGF5IHAgewogICAgZm9udC1zaXplOiAxLjZyZW07CiAgICBmb250LXdlaWdodDogNzAwOwogICAgY29sb3I6IHZhcigtLXBseXItY29sb3ItbWFpbik7CiAgICB0ZXh0LXNoYWRvdzogMCAwIDEwcHggcmdiYSgxNCwgMTY1LCAyMzMsIDAuNSk7Cn0KCi8qIFBvcHVwIFN0eWxlcyAoRXhhY3RseSBhcyBwcm92aWRlZCkgKi8KLnBvcHVwLWJhY2tkcm9wewogICAgcG9zaXRpb246Zml4ZWQ7CiAgICB0b3A6MDsKICAgIGxlZnQ6MDsKICAgIHdpZHRoOjEwMCU7CiAgICBoZWlnaHQ6MTAwJTsKICAgIGJhY2tncm91bmQ6cmdiYSgwLDAsMCwxKTsKICAgIHotaW5kZXg6MTEwMDA7CiAgICBkaXNwbGF5Om5vbmU7CiAgICBvcGFjaXR5OjA7CiAgICB0cmFuc2l0aW9uOm9wYWNpdHkgLjI4cyBlYXNlOwp9Ci5wb3B1cC1iYWNrZHJvcC5zaG93ewogICAgZGlzcGxheTpibG9jazsKICAgIG9wYWNpdHk6MTsKfQoKLnRlbGVncmFtLXBvcHVwIHsKICAgIHBvc2l0aW9uOmZpeGVkOwogICAgdG9wOjUwJTsKICAgIGxlZnQ6NTAlOwogICAgdHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpIHNjYWxlKC45Nik7CiAgICBiYWNrZ3JvdW5kOnZhcigtLXBvcHVwLWJnKTsKICAgIGNvbG9yOnZhcigtLXRleHQtbGlnaHQpOwogICAgcGFkZGluZzo0MHB4IDI1cHg7CiAgICBib3JkZXItcmFkaXVzOjE2cHg7CiAgICBib3JkZXI6MnB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3IpOwogICAgYm94LXNoYWRvdzowIDAgNTBweCAxMHB4IHJnYmEoMjI3LCAwLCAwLCAwLjUpLCAwIDAgMjBweCByZ2JhKDIyNywgMCwgMCwgMC4zKSBpbnNldDsKICAgIHotaW5kZXg6MTIwMDA7CiAgICB0ZXh0LWFsaWduOmNlbnRlcjsKICAgIHdpZHRoOiA5MCU7CiAgICBtYXgtd2lkdGg6IDQwMHB4OwogICAgZGlzcGxheTogbm9uZTsKICAgIG9wYWNpdHk6MDsKICAgIHRyYW5zaXRpb246YWxsIC4yOHMgY3ViaWMtYmV6aWVyKC4yLC45LC4yLDEpOwp9Ci50ZWxlZ3JhbS1wb3B1cC5zaG93eyBkaXNwbGF5OmJsb2NrOyBvcGFjaXR5OjE7IHRyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKSBzY2FsZSgxKTsgfQoudGVsZWdyYW0tcG9wdXAgaDIgewogICAgbWFyZ2luLXRvcDogMDsKICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LWNvbG9yKTsKICAgIGZvbnQtc2l6ZTogMS43NXJlbTsKICAgIGZvbnQtd2VpZ2h0OiA3MDA7CiAgICB0ZXh0LXNoYWRvdzogMCAwIDEwcHggcmdiYSgyMjcsIDAsIDAsIDAuNSk7CiAgICBtYXJnaW4tYm90dG9tOiAwLjc1cmVtOwp9Ci50ZWxlZ3JhbS1wb3B1cCBwIHsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGNvbG9yOiB2YXIoLS10ZXh0LW11dGVkKTsKICAgIG1hcmdpbi1ib3R0b206IDEuNzVyZW07CiAgICBsaW5lLWhlaWdodDogMS41Owp9Ci50ZWxlZ3JhbS1wb3B1cCBidXR0b24gewogICAgd2lkdGg6IDEwMCU7CiAgICBwYWRkaW5nOiAxNHB4OwogICAgbWFyZ2luLXRvcDogMTJweDsKICAgIGZvbnQtc2l6ZTogMXJlbTsKICAgIGJvcmRlcjogbm9uZTsKICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBmb250LXdlaWdodDogNjAwOwogICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZSwgYm94LXNoYWRvdyAwLjNzIGVhc2U7Cn0KLnRlbGVncmFtLXBvcHVwIGJ1dHRvbjpob3ZlciB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTJweCk7CiAgICBib3gtc2hhZG93OiAwIDZweCAxOHB4IHJnYmEoMCwgMCwgMCwgMC40KTsKfQoudGVsZWdyYW0tcG9wdXAgLmpvaW4tYnRuIHsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywgdmFyKC0tcHJpbWFyeS1jb2xvciksIHZhcigtLXByaW1hcnktY29sb3ItZGFyaykpOwogICAgY29sb3I6IHdoaXRlOwogICAgYm94LXNoYWRvdzogMCAwIDEycHggcmdiYSgyMjcsIDAsIDAsIDAuNCk7Cn0KLnRlbGVncmFtLXBvcHVwIC5qb2luLWJ0bjpob3ZlciB7CiAgICBib3gtc2hhZG93OiAwIDAgMjVweCByZ2JhKDIyNywgMCwgMCwgMC43KTsKfQoudGVsZWdyYW0tcG9wdXAgLmpvaW5lZC1idG4gewogICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYm9yZGVyLWNvbG9yKTsKICAgIGNvbG9yOiB2YXIoLS10ZXh0LWxpZ2h0KTsKICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXByaW1hcnktY29sb3ItZGFyayk7Cn0KCkBtZWRpYSAobWF4LXdpZHRoOiA0ODBweCkgewogICAgLnRlbGVncmFtLXBvcHVwIHsgcGFkZGluZzogMzBweCAyMHB4OyBtYXgtd2lkdGg6IDkwJTsgfQogICAgLnRlbGVncmFtLXBvcHVwIGgyIHsgZm9udC1zaXplOiAxLjVyZW07IH0KICAgIC50ZWxlZ3JhbS1wb3B1cCBwIHsgZm9udC1zaXplOiAwLjlyZW07IH0KfQo8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgoKPGRpdiBjbGFzcz0ibG9hZGluZy1vdmVybGF5IiBpZD0ibG9hZGluZy1vdmVybGF5Ij4KICAgIDxkaXYgY2xhc3M9Im1vZGVybi1sb2FkZXIiPjwvZGl2PgogICAgPHA+TG9hZGluZyBTdHJlYW0uLi4gUHJlcGFyaW5nIEhEIFF1YWxpdHkuPC9wPgo8L2Rpdj4KCjxkaXYgY2xhc3M9InBvcHVwLWJhY2tkcm9wIiBpZD0icG9wdXBCYWNrZHJvcCI+PC9kaXY+Cgo8bWFpbiBjbGFzcz0iY29udGFpbmVyIj4KICAgIDxkaXYgaWQ9InN0cmVhbS1jb250ZW50Ij4KICAgICAgICA8L2Rpdj4KPC9tYWluPgoKPGRpdiBjbGFzcz0idGVsZWdyYW0tcG9wdXAiIGlkPSJ0ZWxlZ3JhbVBvcHVwIiByb2xlPSJkaWFsb2ciIGFyaWEtbW9kYWw9InRydWUiIGFyaWEtaGlkZGVuPSJ0cnVlIj4KICAgIDxoMj48aSBjbGFzcz0iZmEtYnJhbmRzIGZhLXdoYXRzYXBwIj48L2k+IFN1cHBvcnQgVXMhPC9oMj4KICAgIDxwPkpvaW4gb3VyIFdoYXRzYXBwIGNoYW5uZWwgPHN0cm9uZz5GQU5DT0RFIExJVkUgU1RSRUFNPC9zdHJvbmc+IEZvciBJbnN0YW50IFVwZGF0ZXMgQW5kIEV4Y2x1c2l2ZSBMaW5rcy48L3A+CiAgICA8YSBocmVmPSJodHRwczovL3doYXRzYXBwLmNvbS9jaGFubmVsLzAwMjlWYWV5bFlZQlB6alZOb21XdVowVCIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiIGlkPSJqb2luTGluayI+PGJ1dHRvbiBjbGFzcz0iam9pbi1idG4iPkpvaW4gTm93PC9idXR0b24+PC9hPgogICAgPGJ1dHRvbiBjbGFzcz0iam9pbmVkLWJ0biIgaWQ9ImFscmVhZHlKb2luZWRCdG4iPkFscmVhZHkgSm9pbmVkPC9idXR0b24+CjwvZGl2PgoKPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vaGxzLmpzQGxhdGVzdCI+PC9zY3JpcHQ+CjxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5wbHlyLmlvLzMuNy44L3BseXIuanMiPjwvc2NyaXB0Pgo8c2NyaXB0PgogICAgY29uc3QgUExBWUVSX0lEID0gJ3BsYXllcic7CiAgICAKICAgIC8vIC0tLSBDb25maWd1cmF0aW9uIENvbnN0YW50cyAtLS0KICAgIGNvbnN0IE1BVENIX0RBVEFfVVJMID0gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9kcm1saXZlL2ZhbmNvZGUtbGl2ZS1ldmVudHMvcmVmcy9oZWFkcy9tYWluL2ZhbmNvZGUuanNvbic7CiAgICBjb25zdCBNQVRDSF9JRF9QQVJBTSA9ICdpZCc7CiAgICBjb25zdCBDRE5fS0VZX1BBUkFNID0gJ2Nkbic7CiAgICAKICAgIGNvbnN0IEFVVE9fUVVBTElUWSA9IDA7CiAgICAKICAgIC8vIC0tLSBWaWV3IENvdW50ZXIgQ29uc3RhbnRzIC0tLQogICAgY29uc3QgU1RBVElDX1ZJRVdfS0VZID0gJ0ZhbmNvZGUgT2ZmaWNpYWwnOyAKICAgIGNvbnN0IEhJVF9CQVNFID0gJ2h0dHBzOi8vU2F5YW5jb3VudGVyLXR3by52ZXJjZWwuYXBwL2FwaS9oaXQ/a2V5PSc7CiAgICBjb25zdCBHRVRfQkFTRSA9ICdodHRwczovL1NheWFuY291bnRlci10d28udmVyY2VsLmFwcC9hcGkvZ2V0P2tleT0nOwogICAgCiAgICAvLyAtLS0gRE9NIEVsZW1lbnRzIC0tLQogICAgY29uc3QgbG9hZGluZ092ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9hZGluZy1vdmVybGF5Jyk7CiAgICBjb25zdCBwb3B1cEJhY2tkcm9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BvcHVwQmFja2Ryb3AnKTsKICAgIGNvbnN0IHRlbGVncmFtUG9wdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVsZWdyYW1Qb3B1cCcpOwogICAgY29uc3Qgam9pbkxpbmsgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnam9pbkxpbmsnKTsKICAgIGNvbnN0IGFscmVhZHlKb2luZWRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxyZWFkeUpvaW5lZEJ0bicpOwogICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7CiAgICAKICAgIGxldCBwbHlySW5zdGFuY2UgPSBudWxsOwogICAgbGV0IGhsc0luc3RhbmNlID0gbnVsbDsKICAgIGxldCBwbGF5ZXJJbml0aWFsaXplZCA9IGZhbHNlOwoKICAgIC8vIC0tLSBVdGlsaXR5IEZ1bmN0aW9ucyAtLS0KICAgIGZ1bmN0aW9uIHNhZmVIVE1MKHN0cil7IGNvbnN0IGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgZC50ZXh0Q29udGVudCA9IHN0cjsgcmV0dXJuIGQuaW5uZXJIVE1MOyB9CiAgICAKICAgIGZ1bmN0aW9uIGZvcm1hdFZpZXdzKG51bSkgewogICAgICAgIGlmICghbnVtIHx8IGlzTmFOKG51bSkpIHJldHVybiAiMCI7CiAgICAgICAgaWYgKG51bSA+PSAxMDAwMDAwKSByZXR1cm4gKG51bSAvIDEwMDAwMDApLnRvRml4ZWQoMSkgKyAiTSI7CiAgICAgICAgaWYgKG51bSA+PSAxMDAwKSByZXR1cm4gKG51bSAvIDEwMDApLnRvRml4ZWQoMSkgKyAiSyI7CiAgICAgICAgcmV0dXJuIG51bTsKICAgIH0KCiAgICBmdW5jdGlvbiBoaWRlUG9wdXAoKXsKICAgICAgICB0ZWxlZ3JhbVBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsKICAgICAgICB0ZWxlZ3JhbVBvcHVwLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCd0cnVlJyk7CiAgICAgICAgcG9wdXBCYWNrZHJvcC5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7CiAgICAgICAgYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdjb250ZW50LWhpZGRlbicpOwogICAgfQoKICAgIGZ1bmN0aW9uIHNob3dQb3B1cCgpewogICAgICAgIHRlbGVncmFtUG9wdXAuY2xhc3NMaXN0LmFkZCgnc2hvdycpOwogICAgICAgIHRlbGVncmFtUG9wdXAuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsJ2ZhbHNlJyk7CiAgICAgICAgcG9wdXBCYWNrZHJvcC5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7CiAgICAgICAgYm9keS5jbGFzc0xpc3QuYWRkKCdjb250ZW50LWhpZGRlbicpOwogICAgfQogICAgCiAgICAvLyAtLS0gVVBEQVRFRCBFUlJPUiBESVNQTEFZIEZVTkNUSU9OIC0tLQogICAgZnVuY3Rpb24gZGlzcGxheUVycm9yKG1lc3NhZ2UpIHsKICAgICAgICBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICBoaWRlUG9wdXAoKTsKICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFpbmVyJykuc3R5bGUub3BhY2l0eSA9ICcxJzsKCiAgICAgICAgY29uc3QgY29udGVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJlYW0tY29udGVudCcpOwogICAgICAgIAogICAgICAgIC8vIEluamVjdGluZyB0aGUgbmV3IHN0eWxpc2ggRXJyb3IgUGFnZQogICAgICAgIGNvbnRlbnREaXYuaW5uZXJIVE1MID0gYAogICAgICAgIDxkaXYgY2xhc3M9ImVycm9yLWNvbnRhaW5lciI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImVycm9yLWljb24td3JhcHBlciI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJlcnJvci1yaW5nIj48L2Rpdj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYS1zb2xpZCBmYS10b3dlci1icm9hZGNhc3QgZXJyb3ItaWNvbiI+PC9pPgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgIDxoMSBjbGFzcz0iZXJyb3ItdGl0bGUiPlNpZ25hbCBMb3N0PC9oMT4KCiAgICAgICAgICAgIDxwIGNsYXNzPSJlcnJvci1kZXNjIj4KICAgICAgICAgICAgICAgICR7bWVzc2FnZX0gPGJyPjxicj4KICAgICAgICAgICAgICAgIFRoZSBJRCBNaWdodCBCZSBFeHBpcmVkICYgIFRoZSBCcm9hZGNhc3QgSGFzIEVuZGVkLgogICAgICAgICAgICA8L3A+CgogICAgICAgICAgICA8YSBocmVmPSJIdHRwczovL0Zhbm5jb2RlLnBhZ2VzLmRldi8iIGNsYXNzPSJidG4tcHJlbWl1bS1idyI+CiAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmEtc29saWQgZmEtbGlzdC11bCI+PC9pPgogICAgICAgICAgICAgICAgTmV3IEJyb2FkY2FzdCBMaXN0CiAgICAgICAgICAgIDwvYT4KICAgICAgICA8L2Rpdj5gOwogICAgICAgIAogICAgICAgIGlmIChwbHlySW5zdGFuY2UpIHBseXJJbnN0YW5jZS5kZXN0cm95KCk7CiAgICB9CiAgICAKICAgIC8vIC0tLSBDb3VudGVyIExvZ2ljIC0tLQogICAgYXN5bmMgZnVuY3Rpb24gc3RhcnRWaWV3Q291bnRlcigpIHsgCiAgICAgICAgY29uc3QgU1RSRUFNX0tFWSA9IFNUQVRJQ19WSUVXX0tFWTsgCiAgICAgICAgY29uc3QgSElUX1VSTCA9IEhJVF9CQVNFICsgU1RSRUFNX0tFWTsKICAgICAgICBjb25zdCBHRVRfVVJMID0gR0VUX0JBU0UgKyBTVFJFQU1fS0VZOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBhd2FpdCBmZXRjaChISVRfVVJMICsgIiZfPSIgKyBEYXRlLm5vdygpKTsKICAgICAgICB9IGNhdGNoKGUpIHt9CgogICAgICAgIGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVZpZXdzKCkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goR0VUX1VSTCArICImXz0iICsgRGF0ZS5ub3coKSk7CiAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdzID0ganNvbi50b3RhbCB8fCAwOwogICAgICAgICAgICAgICAgY29uc3Qgdmlld0NvdW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aWV3Q291bnQiKTsKICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdDaGFubmVsTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ2aWV3Q2hhbm5lbE5hbWUiKTsKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgaWYgKHZpZXdDb3VudEVsZW1lbnQpIHsKICAgICAgICAgICAgICAgICAgICAgdmlld0NvdW50RWxlbWVudC5pbm5lclRleHQgPSBmb3JtYXRWaWV3cyhOdW1iZXIodmlld3MpKSArICIgVmlld3MiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHZpZXdDaGFubmVsTmFtZSkgewogICAgICAgICAgICAgICAgICAgIHZpZXdDaGFubmVsTmFtZS5pbm5lclRleHQgPSBTVEFUSUNfVklFV19LRVk7IAogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgfSBjYXRjaChlcnIpIHsKICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpZXdDb3VudCIpKSB7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInZpZXdDb3VudCIpLmlubmVyVGV4dCA9ICIwIFZpZXdzIjsKICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHVwZGF0ZVZpZXdzKCk7CiAgICAgICAgc2V0SW50ZXJ2YWwodXBkYXRlVmlld3MsIDIwMDApOwogICAgfQogICAgCiAgICAvLyAtLS0gRGF0YSBGZXRjaGluZyBMb2dpYyAtLS0KICAgIGZ1bmN0aW9uIGdldE1hdGNoUGFyYW1zKCkgewogICAgICAgIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7CiAgICAgICAgY29uc3QgbWF0Y2hJZCA9IHVybFBhcmFtcy5nZXQoTUFUQ0hfSURfUEFSQU0pOwogICAgICAgIGNvbnN0IGNkbktleSA9IHVybFBhcmFtcy5nZXQoQ0ROX0tFWV9QQVJBTSk7CiAgICAgICAgcmV0dXJuIHsgbWF0Y2hJZCwgY2RuS2V5IH07CiAgICB9CgogICAgYXN5bmMgZnVuY3Rpb24gZmV0Y2hNYXRjaERhdGEobWF0Y2hJZCwgY2RuS2V5KSB7CiAgICAgICAgaWYgKCFtYXRjaElkKSB0aHJvdyBuZXcgRXJyb3IoIk1pc3NpbmcgTWF0Y2ggSUQgaW4gVVJMLiIpOwoKICAgICAgICB0cnkgewogICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChNQVRDSF9EQVRBX1VSTCwgeyBjYWNoZTogIm5vLXN0b3JlIiB9KTsKICAgICAgICAgICAgaWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcignRGF0YSBsb2FkIGZhaWxlZCcpOwogICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzLmpzb24oKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gKGRhdGEubWF0Y2hlcyB8fCBbXSkuZmluZChtID0+IG0ubWF0Y2hfaWQgPT09IE51bWJlcihtYXRjaElkKSk7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIW1hdGNoKSB0aHJvdyBuZXcgRXJyb3IoYE1hdGNoIHdpdGggSUQgJHttYXRjaElkfSBub3QgZm91bmQuYCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBsZXQgc3RyZWFtVXJsID0gbnVsbDsKICAgICAgICAgICAgbGV0IG1hdGNoTmFtZSA9IG1hdGNoLm1hdGNoX25hbWUgfHwgbWF0Y2gudGl0bGUgfHwgIkxJVkUgU1RSRUFNIjsKCiAgICAgICAgICAgIGlmIChjZG5LZXkgPT09ICdhZGZyZWUnKSB7CiAgICAgICAgICAgICAgICBzdHJlYW1VcmwgPSBtYXRjaC5hZGZyZWVfdXJsOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgc3RyZWFtVXJsID0gbWF0Y2guZGFpX3VybCB8fCBtYXRjaC5tM3U4IHx8IG1hdGNoLnNyYzsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKCFzdHJlYW1VcmwpIHRocm93IG5ldyBFcnJvcihgTm8gc3RyZWFtIFVSTCBmb3VuZCBmb3IgdGhlIHNlbGVjdGVkIENETi5gKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIHJldHVybiB7IHN0cmVhbVVybCwgbWF0Y2hOYW1lLCBtYXRjaElkIH07CgogICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgICB0aHJvdyBlOwogICAgICAgIH0KICAgIH0KCiAgICAvLyAtLS0gUGxheWVyIExvZ2ljIChPcmllbnRhdGlvbiBMb2NrKSAtLS0KICAgIGFzeW5jIGZ1bmN0aW9uIGxvY2tMYW5kc2NhcGUoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICgnb3JpZW50YXRpb24nIGluIHNjcmVlbiAmJiBzY3JlZW4ub3JpZW50YXRpb24gJiYgc2NyZWVuLm9yaWVudGF0aW9uLmxvY2spIHsKICAgICAgICAgICAgYXdhaXQgc2NyZWVuLm9yaWVudGF0aW9uLmxvY2soImxhbmRzY2FwZSIpOwogICAgICAgICAgICByZXR1cm4geyBsb2NrZWQ6IHRydWUsIG1ldGhvZDogJ3NjcmVlbi5vcmllbnRhdGlvbi5sb2NrJyB9OwogICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuc2NyZWVuICYmIHdpbmRvdy5zY3JlZW4ubG9ja09yaWVudGF0aW9uKSB7CiAgICAgICAgICAgIGxldCBvayA9IHdpbmRvdy5zY3JlZW4ubG9ja09yaWVudGF0aW9uKCdsYW5kc2NhcGUnKTsKICAgICAgICAgICAgcmV0dXJuIHsgbG9ja2VkOiAhIW9rLCBtZXRob2Q6ICdzY3JlZW4ubG9ja09yaWVudGF0aW9uJyB9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHsgbG9ja2VkOiBmYWxzZSwgcmVhc29uOiAnbm8tYXBpJyB9OwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGNvbnNvbGUud2FybigiT3JpZW50YXRpb24gbG9jayBmYWlsZWQ6IiwgZSk7CiAgICAgICAgICByZXR1cm4geyBsb2NrZWQ6IGZhbHNlLCBlcnJvcjogZSB9OwogICAgICAgIH0KICAgIH0KICAgIGZ1bmN0aW9uIHJlbW92ZVJvdGF0ZUNzc0ZhbGxiYWNrKCl7CiAgICAgICAgY29uc3QgcGMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGxheWVyLWNvbnRhaW5lcicpOwogICAgICAgIGlmKCFwYykgcmV0dXJuOwogICAgICAgIHBjLmNsYXNzTGlzdC5yZW1vdmUoJ3BsYXllci1yb3RhdGVkJyk7CiAgICAgICAgY29uc3Qgbm90aWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJvdGF0ZS1mYWxsYmFjay1ub3RpY2UnKTsKICAgICAgICBpZihub3RpY2UpIG5vdGljZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgfQogICAgZnVuY3Rpb24gYXBwbHlSb3RhdGVDc3NGYWxsYmFjaygpewogICAgICAgIGNvbnN0IHBjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BsYXllci1jb250YWluZXInKTsKICAgICAgICBpZighcGMpIHJldHVybjsKICAgICAgICBwYy5jbGFzc0xpc3QuYWRkKCdwbGF5ZXItcm90YXRlZCcpOwogICAgICAgIGNvbnN0IG5vdGljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yb3RhdGUtZmFsbGJhY2stbm90aWNlJyk7CiAgICAgICAgaWYobm90aWNlKSBub3RpY2Uuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICB9CiAgICBhc3luYyBmdW5jdGlvbiBvbkZ1bGxTY3JlZW5DaGFuZ2UoKSB7CiAgICAgICAgY29uc3QgZnNFbGVtZW50ID0gZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQud2Via2l0RnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudDsKICAgICAgICAKICAgICAgICBpZiAoZnNFbGVtZW50KSB7CiAgICAgICAgICAgIGNvbnN0IGxvY2tSZXMgPSBhd2FpdCBsb2NrTGFuZHNjYXBlKCk7CiAgICAgICAgICAgIGlmICghbG9ja1Jlcy5sb2NrZWQpIHsKICAgICAgICAgICAgICAgIGFwcGx5Um90YXRlQ3NzRmFsbGJhY2soKTsKICAgICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4gewogICAgICAgICAgICAgICAgYXdhaXQgc2NyZWVuLm9yaWVudGF0aW9uLnVubG9jaygpOwogICAgICAgICAgICAgICAgcmVtb3ZlUm90YXRlQ3NzRmFsbGJhY2soKTsKICAgICAgICAgICAgfSwgMTAwKTsgCiAgICAgICAgfQogICAgfQoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Z1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5DaGFuZ2UpOwogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsIG9uRnVsbFNjcmVlbkNoYW5nZSk7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtc2Z1bGxzY3JlZW5jaGFuZ2UnLCBvbkZ1bGxTY3JlZW5DaGFuZ2UpOwogICAgCiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigib3JpZW50YXRpb25jaGFuZ2UiLCAoKSA9PiB7CiAgICAgICAgaWYgKCFkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCkgewogICAgICAgICAgc2NyZWVuLm9yaWVudGF0aW9uLnVubG9jaygpOwogICAgICAgICAgcmVtb3ZlUm90YXRlQ3NzRmFsbGJhY2soKTsKICAgICAgICB9CiAgICB9KTsKCiAgICAvLyBQbHlyIEV2ZW50IEhhbmRsZXJzCiAgICBmdW5jdGlvbiBhdHRhY2hQbHlyRXZlbnRzKCkgewogICAgICAgIGlmICghcGx5ckluc3RhbmNlKSByZXR1cm47CgogICAgICAgIHBseXJJbnN0YW5jZS5vbigncGxheWluZycsICgpID0+IGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpKTsKICAgICAgICBwbHlySW5zdGFuY2Uub24oJ3dhaXRpbmcnLCAoKSA9PiBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKSk7CiAgICAgICAgcGx5ckluc3RhbmNlLm9uKCdjYW5wbGF5JywgKCkgPT4gbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJykpOwogICAgfQoKICAgIC8vIC0tLSBVSSBSZW5kZXJpbmcgLS0tCiAgICBmdW5jdGlvbiByZW5kZXJQbGF5ZXJVSShkYXRhKSB7CiAgICAgICAgY29uc3QgY29udGVudERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdHJlYW0tY29udGVudCcpOwogICAgICAgIAogICAgICAgIC8vIFJlbmRlciB0aGUgbWFpbiBzdHJ1Y3R1cmUgdXNpbmcgdGhlIGRhdGEKICAgICAgICBjb250ZW50RGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgPGRpdiBjbGFzcz0ic3RyZWFtLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8aDE+JHtzYWZlSFRNTChkYXRhLm1hdGNoTmFtZSkudG9VcHBlckNhc2UoKX08L2gxPgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibGl2ZS1iYWRnZSI+PGkgY2xhc3M9ImZhLXNvbGlkIGZhLWNpcmNsZSI+PC9pPiBMSVZFPC9kaXY+IAogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBpZD0icGxheWVyLWNvbnRhaW5lciI+CiAgICAgICAgICAgICAgICA8dmlkZW8gaWQ9IiR7UExBWUVSX0lEfSIgcGxheXNpbmxpbmUgY29udHJvbHM+PC92aWRlbz4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InZpZXctY291bnRlciI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmFtZSIgaWQ9InZpZXdDaGFubmVsTmFtZSI+RkFOQ09ERTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InZpZXdzIiBpZD0idmlld0NvdW50Ij4wIFZpZXdzPC9kaXY+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InJvdGF0ZS1mYWxsYmFjay1ub3RpY2UiIGlkPSJyb3RhdGVOb3RpY2UiPlJvdGF0aW9uIGZhbGxiYWNrIGFjdGl2ZSAoaU9TKSAgIHRhcCBleGl0IHRvIHJldHVybjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5mby1jYXJkIj4KICAgICAgICAgICAgICAgIDxoMj48aSBjbGFzcz0iZmEtYnJhbmRzIGZhLXdoYXRzYXBwIj48L2k+IEZvbGxvdyB1cyBmb3IgVXBkYXRlcyAgICEhPC9oMj4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJodHRwczovL3doYXRzYXBwLmNvbS9jaGFubmVsLzAwMjlWYWV5bFlZQlB6alZOb21XdVowVCIgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiIGNsYXNzPSJhY3Rpb24tYnV0dG9uIj4KICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmEtYnJhbmRzIGZhLXdoYXRzYXBwIj48L2k+CiAgICAgICAgICAgICAgICAgICAgQ2xpY2sgSGVyZSBUbyBKb2luIFdoYXRzQXBwIAogICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iaW5mby1jYXJkIj4KICAgICAgICAgICAgICAgIDxoMj48aSBjbGFzcz0iZmEtc29saWQgZmEtbGluayI+PC9pPiBDb3B5IExpbmsgJiBTaGFyZTwvaDI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJhY3Rpb24tYnV0dG9uIiBpZD0ic2hhcmVCdXR0b24iPjxpIGNsYXNzPSJmYS1zb2xpZCBmYS1zaGFyZS1ub2RlcyI+PC9pPiBDbGljayBIZXJlIFRvIFNoYXJlIFRoaXMgUGFnZSBMaW5rPC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8YSBocmVmPSIjIiBjbGFzcz0iYmFjay1saW5rIj48aSBjbGFzcz0iZmEtc29saWQgZmEtYXJyb3ctbGVmdCI+PC9pPiBCYWNrIHRvIEFsbCBTdHJlYW1zICEhPC9hPgogICAgICAgIGA7CiAgICAgICAgCiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NoYXJlQnV0dG9uJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7CiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBjb25zdCB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjsKICAgICAgICAgICAgICAgIGF3YWl0IG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHVybCk7CiAgICAgICAgICAgICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hhcmVCdXR0b24nKTsKICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsID0gYnRuLmlubmVySFRNTDsKICAgICAgICAgICAgICAgIGJ0bi5pbm5lckhUTUwgPSBgPGkgY2xhc3M9ImZhLXNvbGlkIGZhLWNoZWNrIj48L2k+IExpbmsgQ29waWVkIWA7CiAgICAgICAgICAgICAgICBidG4uY2xhc3NMaXN0LmFkZCgnY29waWVkJyk7CiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IAogICAgICAgICAgICAgICAgeyBidG4uaW5uZXJIVE1MID0gb3JpZ2luYWw7IGJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdjb3BpZWQnKTsgfSwgMjAwMCk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgeyBjb25zb2xlLmVycm9yKGVycik7IH0KICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBzdGFydFZpZXdDb3VudGVyKCk7IC8vIENhbGwgY291bnRlciBpbml0aWFsaXphdGlvbgogICAgfQogICAgCiAgICAvLyAtLS0gTWFpbiBJbml0aWFsaXphdGlvbiAtLS0KICAgIGFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVQbGF5ZXIoKSB7CiAgICAgICAgY29uc3QgeyBtYXRjaElkLCBjZG5LZXkgfSA9IGdldE1hdGNoUGFyYW1zKCk7CiAgICAgICAgCiAgICAgICAgaWYgKCFtYXRjaElkIHx8ICFjZG5LZXkpIHsKICAgICAgICAgICAgIHJldHVybiBkaXNwbGF5RXJyb3IoIk1pc3NpbmcgTWF0Y2ggUGFyYW1ldGVycy4gUGxlYXNlIFVzZSBBIGxpbmsgRnJvbSBUaGUgSG9tZXBhZ2UuIik7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIGxldCBzdHJlYW1VcmwgPSBudWxsOwogICAgICAgIAogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBmZXRjaE1hdGNoRGF0YShtYXRjaElkLCBjZG5LZXkpOwogICAgICAgICAgICBzdHJlYW1VcmwgPSBkYXRhLnN0cmVhbVVybDsKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFJlbmRlciBVSSBiZWZvcmUgc3RhcnRpbmcgcGxheWVyCiAgICAgICAgICAgIHJlbmRlclBsYXllclVJKGRhdGEpOwoKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICByZXR1cm4gZGlzcGxheUVycm9yKGBGYWlsZWQgdG8gbG9hZCBtYXRjaCBkZXRhaWxzOiAke2Vycm9yLm1lc3NhZ2V9YCk7CiAgICAgICAgfQoKICAgICAgICBjb25zdCBwbGF5ZXJFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoUExBWUVSX0lEKTsKCiAgICAgICAgLy8gUGx5ciBDb25maWd1cmF0aW9uCiAgICAgICAgY29uc3QgcGxheWVyQ29uZmlnID0gewogICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSwKICAgICAgICAgICAgcGxheXNpbmxpbmU6IHRydWUsCiAgICAgICAgICAgIG11dGVkOiB0cnVlLAogICAgICAgICAgICBjb250cm9sczogWydwbGF5LWxhcmdlJywgJ3BsYXknLCAncHJvZ3Jlc3MnLCAnY3VycmVudC10aW1lJywgJ211dGUnLCAndm9sdW1lJywgJ3NldHRpbmdzJywgJ3BpcCcsICdmdWxsc2NyZWVuJ10sCiAgICAgICAgICAgIHNldHRpbmdzOiBbJ3F1YWxpdHknLCAnc3BlZWQnLCAnY2FwdGlvbnMnXSwKICAgICAgICAgICAgc3BlZWQ6IHsKICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAxLAogICAgICAgICAgICAgICAgb3B0aW9uczogWzAuNSwgMC43NSwgMSwgMS4yNSwgMS41LCAxLjc1LCAyXQogICAgICAgICAgICB9LAogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgLy8gSExTIEltcGxlbWVudGF0aW9uCiAgICAgICAgaWYgKHN0cmVhbVVybC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCcubTN1OCcpICYmIEhscy5pc1N1cHBvcnRlZCgpKSB7CiAgICAgICAgICAgIAogICAgICAgICAgICBobHNJbnN0YW5jZSA9IG5ldyBIbHMoewogICAgICAgICAgICAgICAgY3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnLAogICAgICAgICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiBmYWxzZSwKICAgICAgICAgICAgICAgIHJlY292ZXJNZWRpYUVycm9yOiB0cnVlLAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGhsc0luc3RhbmNlLmxvYWRTb3VyY2Uoc3RyZWFtVXJsKTsKICAgICAgICAgICAgaGxzSW5zdGFuY2UuYXR0YWNoTWVkaWEocGxheWVyRWxlbWVudCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBobHNJbnN0YW5jZS5vbihIbHMuRXZlbnRzLk1BTklGRVNUX1BBUlNFRCwgZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGNvbnN0IHF1YWxpdGllcyA9IGRhdGEubGV2ZWxzLm1hcChsID0+IGwuaGVpZ2h0KS5maWx0ZXIoQm9vbGVhbik7CiAgICAgICAgICAgICAgICBsZXQgYXZhaWxhYmxlUXVhbGl0aWVzID0gW0FVVE9fUVVBTElUWSwgLi4ubmV3IFNldChxdWFsaXRpZXMpXS5zb3J0KChhLCBiKSA9PiBiIC0gYSk7CiAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0UXVhbGl0eSA9IGF2YWlsYWJsZVF1YWxpdGllcy5maW5kKHEgPT4gcSA9PT0gNzIwKSB8fCBBVVRPX1FVQUxJVFk7IAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBwbGF5ZXJDb25maWcucXVhbGl0eSA9IHsKICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiBkZWZhdWx0UXVhbGl0eSwKICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBhdmFpbGFibGVRdWFsaXRpZXMsCiAgICAgICAgICAgICAgICAgICAgZm9yY2VkOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiAobmV3UXVhbGl0eSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1F1YWxpdHkgPT09IEFVVE9fUVVBTElUWSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGxzSW5zdGFuY2UuY3VycmVudExldmVsID0gLTE7CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsZXZlbEluZGV4ID0gaGxzSW5zdGFuY2UubGV2ZWxzLmZpbmRJbmRleChsZXZlbCA9PiBsZXZlbC5oZWlnaHQgPT09IG5ld1F1YWxpdHkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxldmVsSW5kZXggIT09IC0xKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGxzSW5zdGFuY2UuY3VycmVudExldmVsID0gbGV2ZWxJbmRleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmIChwbHlySW5zdGFuY2UpIHBseXJJbnN0YW5jZS5kZXN0cm95KCk7CiAgICAgICAgICAgICAgICBwbHlySW5zdGFuY2UgPSBuZXcgUGx5cihwbGF5ZXJFbGVtZW50LCBwbGF5ZXJDb25maWcpOwogICAgICAgICAgICAgICAgYXR0YWNoUGx5ckV2ZW50cygpOwogICAgICAgICAgICAgICAgaGxzSW5zdGFuY2Uub24oSGxzLkV2ZW50cy5MRVZFTF9TV0lUQ0hFRCwgKCkgPT4gbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJykpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBwbGF5ZXJFbGVtZW50LnBsYXkoKS5jYXRjaChlID0+IGNvbnNvbGUud2FybigiQXV0b3BsYXkgYmxvY2tlZC9mYWlsZWQuIFVzZXIgaW50ZXJhY3Rpb24gcmVxdWlyZWQuIiwgZSkpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGhsc0luc3RhbmNlLm9uKEhscy5FdmVudHMuRVJST1IsIGZ1bmN0aW9uIChldmVudCwgZGF0YSkgewogICAgICAgICAgICAgICAgaWYgKGRhdGEuZmF0YWwpIHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS50eXBlID09PSBIbHMuRXJyb3JUeXBlcy5NRURJQV9FUlJPUikgewogICAgICAgICAgICAgICAgICAgICAgICBobHNJbnN0YW5jZS5yZWNvdmVyTWVkaWFFcnJvcigpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChobHNJbnN0YW5jZSkgaGxzSW5zdGFuY2UuZGVzdHJveSgpOwogICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5RXJyb3IoYFBsYXliYWNrIGZhaWxlZDogJHtkYXRhLnJlYXNvbn0uIFRyeSByZWZyZXNoaW5nLmApOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CgogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIERpcmVjdCBNUDQgb3Igb3RoZXIgbm9uLUhMUyBmb3JtYXRzCiAgICAgICAgICAgIHBsYXllckVsZW1lbnQuc3JjID0gc3RyZWFtVXJsOwogICAgICAgICAgICBpZiAocGx5ckluc3RhbmNlKSBwbHlySW5zdGFuY2UuZGVzdHJveSgpOwogICAgICAgICAgICBwbHlySW5zdGFuY2UgPSBuZXcgUGx5cihwbGF5ZXJFbGVtZW50LCBwbGF5ZXJDb25maWcpOwogICAgICAgICAgICBhdHRhY2hQbHlyRXZlbnRzKCk7CiAgICAgICAgICAgIAogICAgICAgICAgICBwbGF5ZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKGUpID0+IHsKICAgICAgICAgICAgICAgICBkaXNwbGF5RXJyb3IoIlRoZSB2aWRlbyBsaW5rIGZhaWxlZCB0byBsb2FkIG9yIHRoZSBmb3JtYXQgaXMgdW5zdXBwb3J0ZWQuIik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgcGx5ckluc3RhbmNlLnBsYXkoKS5jYXRjaChlID0+IGNvbnNvbGUud2FybigiQXV0b3BsYXkgYmxvY2tlZC9mYWlsZWQuIiwgZSkpOwogICAgICAgICAgICBsb2FkaW5nT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICB9CiAgICB9CgogICAgLy8gLS0tIFBvcHVwICYgU3RhcnR1cCBMb2dpYyAtLS0KICAgIGZ1bmN0aW9uIGNsb3NlUG9wdXBBbmRJbml0aWFsaXplUGxheWVyKCkgewogICAgICAgIGhpZGVQb3B1cCgpOwogICAgICAgIAogICAgICAgIGlmICghcGxheWVySW5pdGlhbGl6ZWQpIHsKICAgICAgICAgICAgbG9hZGluZ092ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5zdHlsZS5vcGFjaXR5ID0gJzEnOwogICAgICAgICAgICBpbml0aWFsaXplUGxheWVyKCk7CiAgICAgICAgICAgIHBsYXllckluaXRpYWxpemVkID0gdHJ1ZTsKICAgICAgICB9CiAgICB9CgogICAgam9pbkxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IAogICAgICAgIHNldFRpbWVvdXQoY2xvc2VQb3B1cEFuZEluaXRpYWxpemVQbGF5ZXIsIDUwMCk7IAogICAgfSk7CiAgICBhbHJlYWR5Sm9pbmVkQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQb3B1cEFuZEluaXRpYWxpemVQbGF5ZXIpOwoKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7CiAgICAgICAgLy8gU2hvdyBwb3B1cCBmaXJzdAogICAgICAgIHNob3dQb3B1cCgpOwogICAgICAgIGxvYWRpbmdPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWluZXInKS5zdHlsZS5vcGFjaXR5ID0gJzAnOyAvLyBIaWRlIGNvbnRhaW5lciB1bnRpbCBpbml0aWFsaXphdGlvbiBzdGFydHMKICAgIH0pOwoKPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPg=="; 
        
        function decryptAndExecute() {
            try {
                let original = decodeURIComponent(escape(atob(encrypted)));
                document.open();
                document.write(original);
                document.close();
            } catch (e) {
                document.write('<h1 style="color:red; text-align: center; margin-top: 50px;">DECRYPTION ERROR!</h1><p style="text-align: center;">' + e.message + '</p>');
            }
        }
        decryptAndExecute();
    </script>
</body>
</html>