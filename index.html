<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<link rel="shortcut icon" href="https://drmlive.in/sports/fancode.png" />
<title>CNP FANCODE MATCH - SAYAN 1.0.2</title>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap"
/>
<style>
  /* উজ্জ্বল ফন্টের জন্য গ্লো ইফেক্ট */
  body, h1, h2, h3, h4, h5, h6, p, a, button {
    color: #e0e7ff;
    text-shadow:
      0 0 5px #a0c4ff,
      0 0 10px #80b1ff,
      0 0 15px #5f9eff,
      0 0 20px #3f8aff,
      0 0 30px #1f7aff;
    transition: color 0.3s ease, text-shadow 0.3s ease;
  }

  :root {
    --bg-color: #001f3f; /* DEEP-BLUE default background */
    --text-color: #e0e7ff;
    --match-bg: #002951;
    --btn-primary-bg: #0056b3;
    --btn-primary-hover-bg: #003a75;
    --status-live-color: #ff4c4c;
    --status-upcoming-color: #999;
  }

  body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 20px;
    background-color: var(--bg-color);
    color: var(--text-color);
    transition: background-color 0.4s, color 0.4s;
  }
  .file-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    padding: 10px;
  }
  .match-item {
    margin: 10px;
    text-align: center;
    border-radius: 8px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.4s;
    background-color: var(--match-bg);
    padding: 20px;
    width: calc(25% - 20px);
    box-sizing: border-box;
    cursor: pointer;
  }
  .match-item img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto 10px auto;
    transition: box-shadow 0.3s ease;
  }
  .match-item h3,
  .match-item p {
    font-family: 'Montserrat', sans-serif;
    margin: 0;
    text-transform: uppercase;
  }
  .match-item h3 {
    font-weight: 700;
    margin-bottom: 15px;
  }
  .match-item p {
    font-weight: 400;
    margin-bottom: 15px;
  }
  .match-item p:last-of-type {
    margin-bottom: 0;
  }
  .match-item a {
    text-decoration: none;
    color: #00bfff;
    font-weight: 700;
    display: block;
    margin-top: 5px;
    transition: color 0.3s ease;
  }
  .match-item:hover {
    transform: scale(1.05);
    box-shadow: 0 0 10px rgba(255, 72, 0, 0.7);
  }
  .match-item:hover img {
    box-shadow: 0 0 15px rgba(255, 72, 0, 0.7);
  }
  .match-item a:hover {
    color: #ff6600;
  }
  h1 {
    text-align: center;
    color: #00bfff;
    margin-bottom: 10px;
    font-family: 'Montserrat', sans-serif;
  }

  #theme-toggle {
    position: fixed;
    top: 15px;
    right: 15px;
    background-color: var(--btn-primary-bg);
    color: var(--text-color);
    padding: 10px 15px;
    border-radius: 50px;
    font-weight: bold;
    font-family: 'Montserrat', sans-serif;
    border: none;
    cursor: pointer;
    box-shadow: 0 0 8px var(--btn-primary-bg);
    transition: background-color 0.3s ease;
    z-index: 1000;
  }
  #theme-toggle:hover {
    background-color: var(--btn-primary-hover-bg);
  }

  .status-live {
    color: var(--status-live-color);
    animation: glow 1s infinite alternate;
  }
  @keyframes glow {
    0% {
      text-shadow: 0 0 5px var(--status-live-color);
    }
    100% {
      text-shadow: 0 0 15px var(--status-live-color);
    }
  }
  .status-upcoming {
    color: var(--status-upcoming-color);
    opacity: 0.6;
  }

  @media (max-width: 1024px) {
    .match-item {
      width: calc(33.333% - 20px);
    }
  }
  @media (max-width: 768px) {
    .match-item {
      width: calc(50% - 20px);
    }
  }
  @media (max-width: 480px) {
    .match-item {
      width: calc(100% - 20px);
    }
    #theme-toggle {
      font-size: 14px;
      padding: 8px 12px;
    }
  }
  .button-container {
    margin-top: 10px;
  }
  .stream-button {
    padding: 10px 15px;
    margin-right: 5px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    color: white;
  }
  .dai-button {
    background-color: #007bff;
  }
  .adfree-button {
    background-color: #28a745;
  }

  footer {
    text-align: center;
    padding: 15px 0 50px 0;
    color: #fff;
    background-color: #111;
    font-family: 'Montserrat', sans-serif;
    position: relative;
  }

  /* ফুটারে ভিজিটর কাউন্টার এবং সোশ্যাল আইকন */
  #footer-social {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-top: 10px;
  }
  #footer-social img.visitor-counter {
    height: 30px;
    user-select: none;
  }
  #footer-social a.social-icon {
    display: inline-block;
    width: 30px;
    height: 30px;
    cursor: pointer;
    filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(93deg) brightness(103%) contrast(103%);
    transition: filter 0.3s ease;
  }
  #footer-social a.social-icon:hover {
    filter: invert(54%) sepia(97%) saturate(610%) hue-rotate(160deg) brightness(96%) contrast(95%);
  }
</style>
</head>
<body>
  <h1>CNP FANCODE TV</h1>
  <button id="theme-toggle" title="Change Theme">Toggle Theme</button>
  <div class="file-container" id="matches"></div>

<script>
  const playerBaseURL = 'https://fancodez.kajju3864.workers.dev/ios=';
  const apiURL = 'https://raw.githubusercontent.com/drmlive/fancode-live-events/main/fancode.json';

  const themes = [
    { '--bg-color': '#001f3f', '--text-color': '#e0e7ff', '--match-bg': '#002951', '--btn-primary-bg': '#0056b3', '--btn-primary-hover-bg': '#003a75', '--status-live-color': '#ff4c4c', '--status-upcoming-color': '#999' }, // DEEP-BLUE
    { '--bg-color': '#0d1b2a', '--text-color': '#bbe1fa', '--match-bg': '#1b263b', '--btn-primary-bg': '#415a77', '--btn-primary-hover-bg': '#778da9', '--status-live-color': '#ff6b6b', '--status-upcoming-color': '#a0a0a0' }, // NIGHT BLUE
    { '--bg-color': '#0a0a0a', '--text-color': '#f0f0f0', '--match-bg': '#222222', '--btn-primary-bg': '#555555', '--btn-primary-hover-bg': '#888888', '--status-live-color': '#ff4444', '--status-upcoming-color': '#999999' }, // DARK GRAY
    { '--bg-color': '#f0f4f8', '--text-color': '#2d2d2d', '--match-bg': '#ffffff', '--btn-primary-bg': '#007bff', '--btn-primary-hover-bg': '#0056b3', '--status-live-color': '#d9534f', '--status-upcoming-color': '#777777' }, // LIGHT BLUE
    { '--bg-color': '#2e3a59', '--text-color': '#dce3f2', '--match-bg': '#465a83', '--btn-primary-bg': '#6b7dad', '--btn-primary-hover-bg': '#4b5d8e', '--status-live-color': '#ff5c57', '--status-upcoming-color': '#a4a4a4' }, // SLATE BLUE
    { '--bg-color': '#121212', '--text-color': '#e0e0e0', '--match-bg': '#1e1e1e', '--btn-primary-bg': '#bb86fc', '--btn-primary-hover-bg': '#9a67ea', '--status-live-color': '#ff6b6b', '--status-upcoming-color': '#888888' }, // PURPLE DARK
    { '--bg-color': '#fffbf0', '--text-color': '#5a463a', '--match-bg': '#fff5e1', '--btn-primary-bg': '#d4ba7d', '--btn-primary-hover-bg': '#b79f57', '--status-live-color': '#c94c4c', '--status-upcoming-color': '#a1978a' }, // WARM BEIGE
    { '--bg-color': '#073b4c', '--text-color': '#e0f7fa', '--match-bg': '#118ab2', '--btn-primary-bg': '#06d6a0', '--btn-primary-hover-bg': '#028090', '--status-live-color': '#ff5252', '--status-upcoming-color': '#88c0d0' }, // CYAN BLUE
    { '--bg-color': '#202020', '--text-color': '#f0f0f0', '--match-bg': '#303030', '--btn-primary-bg': '#009688', '--btn-primary-hover-bg': '#00796b', '--status-live-color': '#ff4444', '--status-upcoming-color': '#a0a0a0' }, // TEAL DARK
    { '--bg-color': '#282c34', '--text-color': '#abb2bf', '--match-bg': '#3a3f4b', '--btn-primary-bg': '#61dafb', '--btn-primary-hover-bg': '#21a1f1', '--status-live-color': '#e06c75', '--status-upcoming-color': '#7f848e' }, // REACT BLUE
    { '--bg-color': '#001514', '--text-color': '#b2f7ef', '--match-bg': '#004d40', '--btn-primary-bg': '#26a69a', '--btn-primary-hover-bg': '#00796b', '--status-live-color': '#ff6b6b', '--status-upcoming-color': '#8fbcbb' }, // DARK TEAL
    { '--bg-color': '#1f1f2e', '--text-color': '#c7c7d9', '--match-bg': '#2f2f45', '--btn-primary-bg': '#5656aa', '--btn-primary-hover-bg': '#464674', '--status-live-color': '#ff5c57', '--status-upcoming-color': '#9f9fbf' }, // MIDNIGHT PURPLE
    { '--bg-color': '#3e2723', '--text-color': '#fbe9e7', '--match-bg': '#5d4037', '--btn-primary-bg': '#8d6e63', '--btn-primary-hover-bg': '#6d4c41', '--status-live-color': '#e57373', '--status-upcoming-color': '#bcaaa4' }, // BROWN
    { '--bg-color': '#0a192f', '--text-color': '#ccd6f6', '--match-bg': '#112240', '--btn-primary-bg': '#64ffda', '--btn-primary-hover-bg': '#1de9b6', '--status-live-color': '#ff5c57', '--status-upcoming-color': '#8892b0' }, // NAVY BLUE
    { '--bg-color': '#1b262c', '--text-color': '#bbe1fa', '--match-bg': '#0f4c75', '--btn-primary-bg': '#3282b8', '--btn-primary-hover-bg': '#1b262c', '--status-live-color': '#ff4c4c', '--status-upcoming-color': '#81a4cd' }, // BLUE OCEAN
    { '--bg-color': '#20232a', '--text-color': '#61dafb', '--match-bg': '#282c34', '--btn-primary-bg': '#61dafb', '--btn-primary-hover-bg': '#21a1f1', '--status-live-color': '#ff6b6b', '--status-upcoming-color': '#7f848e' }, // DARK REACT
    { '--bg-color': '#fdf6e3', '--text-color': '#657b83', '--match-bg': '#eee8d5', '--btn-primary-bg': '#b58900', '--btn-primary-hover-bg': '#7b6000', '--status-live-color': '#dc322f', '--status-upcoming-color': '#93a1a1' }, // SOLARIZED LIGHT
    { '--bg-color': '#002b36', '--text-color': '#839496', '--match-bg': '#073642', '--btn-primary-bg': '#268bd2', '--btn-primary-hover-bg': '#005f87', '--status-live-color': '#dc322f', '--status-upcoming-color': '#586e75' }, // SOLARIZED DARK
    { '--bg-color': '#121212', '--text-color': '#e0e0e0', '--match-bg': '#1e1e1e', '--btn-primary-bg': '#bb86fc', '--btn-primary-hover-bg': '#9a67ea', '--status-live-color': '#ff6b6b', '--status-upcoming-color': '#888888' }, // PURPLE DARK
    { '--bg-color': '#282828', '--text-color': '#ebdbb2', '--match-bg': '#3c3836', '--btn-primary-bg': '#bdae93', '--btn-primary-hover-bg': '#a89984', '--status-live-color': '#fb4934', '--status-upcoming-color': '#7c6f64' } // DRACULA
  ];

  function applyTheme(index) {
    const theme = themes[index];
    if (!theme) return;
    Object.entries(theme).forEach(([key, value]) => {
      document.documentElement.style.setProperty(key, value);
    });
  }

  let currentThemeIndex = 0;
  applyTheme(currentThemeIndex);

  const themeToggleBtn = document.getElementById('theme-toggle');
  themeToggleBtn.textContent = "Toggle Theme";
  themeToggleBtn.title = "Click to cycle themes";
  themeToggleBtn.onclick = () => {
    currentThemeIndex = (currentThemeIndex + 1) % themes.length;
    applyTheme(currentThemeIndex);
  };

  function cleanAdfreeUrl(url) {
    if(!url) return '';
    if(url.includes('in-mc-fdlive.fancode.com') || url.includes('dai.fancode.com'))
      return url.replace('28XmZCsE','').replace('dai.fancode.com','').replace('/mumbai/','/primary/');
    return url;
  }

  function getImageUrl(match) {
    if(match.src) return match.src;
    return 'https://via.placeholder.com/300x200?text=No+Image';
  }

  fetch(apiURL)
  .then(response => response.json())
  .then(data => {
    data.matches.sort((a, b) => {
      if(a.status.toLowerCase() === 'live' && b.status.toLowerCase() !== 'live') return -1;
      if(a.status.toLowerCase() !== 'live' && b.status.toLowerCase() === 'live') return 1;
      return 0;
    });
    const container = document.getElementById('matches');
    data.matches.forEach(match => {
      const div = document.createElement('div');
      div.className = 'match-item';

      const statusText = match.status.toLowerCase() === 'live' ? 'Live' : 'Upcoming';
      const statusClass = match.status.toLowerCase() === 'live' ? 'status-live' : 'status-upcoming';
      const startTimeText = match.status.toLowerCase() === 'upcoming' ? '<p>Start Time: '+match.startTime+'</p>' : '';
      const adfreeUrl = cleanAdfreeUrl(match.adfree_url);

      div.innerHTML =
        '<img src="'+getImageUrl(match)+'" alt="'+match.title+'">' +
        '<h3>'+match.team_1+' vs '+match.team_2+'</h3>' +
        '<p class="'+statusClass+'">'+statusText+'</p>' +
        startTimeText +
        '<div class="button-container">' +
        '<button class="stream-button dai-button">Watch Normal</button>' +
        '<button class="stream-button adfree-button">Watch Ad-Free</button>' +
        '</div>';

      const watchNormalBtn = div.querySelector('.dai-button');
      const watchAdFreeBtn = div.querySelector('.adfree-button');

      watchNormalBtn.addEventListener('click', e => {
        e.stopPropagation();
        if(match.dai_url){
          window.location.href = playerBaseURL + match.dai_url;
        } else {
          alert('No Normal stream available.');
        }
      });

      watchAdFreeBtn.addEventListener('click', e => {
        e.stopPropagation();
        if(adfreeUrl){
          window.location.href = playerBaseURL + adfreeUrl;
        } else {
          alert('No Ad-Free stream available.');
        }
      });

      div.addEventListener('click', () => {
        if(match.status.toLowerCase() === 'live'){
          alert('This match is live. Click a button to watch.');
        } else if(match.status.toLowerCase() === 'upcoming'){
          alert('This match is upcoming.');
        }
      });

      container.appendChild(div);
    });
  })
  .catch(err => console.error('Error fetching data:', err));
</script>

<footer>
  ©Sayan 2023 - <span id="current-year"></span> | All Rights Reserved ।
  <div id="footer-social">
    <img class="visitor-counter" src="https://visit-counter.vercel.app/counter.png?page=https%3A%2F%2Fjio-fancode.pages.dev%2F&s=55&c=ff00d9&bg=00000000&no=8&ff=digi&tb=&ta=" alt="Visitor Counter" />
    <a href="https://whatsapp.com/channel/0029Va9UKhEL7UVN6cfr8a16" target="_blank" rel="noopener noreferrer" class="social-icon" title="WhatsApp Channel" aria-label="WhatsApp Channel">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="width: 100%; height: 100%;">
        <path d="M20.52 3.48A11.93 11.93 0 0 0 12 1C6.48 1 2 5.48 2 11c0 1.94.6 3.73 1.62 5.24L2 22l5.92-1.53a11.94 11.94 0 0 0 4.08.7c5.52 0 10-4.48 10-10 0-2.66-1.04-5.18-2.48-7.19Zm-8.52 14a8.33 8.33 0 0 1-4.5-1.34l-.32-.19-3.52.91.94-3.43-.21-.34a8.34 8.34 0 1 1 7.61 4.39Zm4.56-5.14c-.25-.12-1.46-.72-1.68-.8-.22-.08-.38-.12-.54.12s-.62.8-.76.96c-.14.16-.28.18-.53.06-.25-.12-1.05-.39-2-1.23-.74-.66-1.24-1.48-1.39-1.73-.15-.25-.02-.38.11-.5.12-.12.25-.3.38-.45.12-.15.16-.25.25-.42.08-.17.04-.31-.02-.43-.06-.12-.54-1.3-.74-1.78-.2-.47-.4-.4-.54-.4-.14 0-.3-.02-.46-.02a1.15 1.15 0 0 0-.54.25c-.18.17-.7.68-.7 1.66 0 .97.72 1.9.82 2.04.1.14 1.42 2.17 3.44 3.04.48.21.85.34 1.14.44.48.16.92.14 1.27.09.39-.06 1.46-.6 1.67-1.18.22-.58.22-1.07.15-1.18-.07-.1-.25-.16-.5-.28Z"/>
      </svg>
    </a>
    <a href="https://t.me/sayan_xyz?text=I%27m%20JIO%20FANCODE%20VISITOR" target="_blank" rel="noopener noreferrer" class="social-icon" title="Telegram Chat" aria-label="Telegram Chat">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="width: 100%; height: 100%;">
        <path d="M21.72 3.293a1.003 1.003 0 0 0-1.176-.176L3.493 10.86a1 1 0 0 0 .005 1.81l4.65 2.726 2.287 6.902a1 1 0 0 0 1.74.306L21.72 3.293ZM9.14 15.01l6.272-6.273-7.953 4.617 1.68 1.656Z"/>
      </svg>
    </a>
  </div>
</footer>
<script>
  document.getElementById('current-year').textContent = new Date().getFullYear();
</script>
</body>
</html>
