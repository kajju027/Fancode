<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<link rel="shortcut icon" href="https://drmlive.in/sports/fancode.png" />
<title>CNP FANCODE LIVE - 1.0.5</title>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap"
/>
<style>
  body, h1, h2, h3, h4, h5, h6, p, a, button {
    color: var(--text-color);
    text-shadow:
      0 0 5px var(--text-shadow-color),
      0 0 10px var(--text-shadow-color),
      0 0 15px var(--text-shadow-color),
      0 0 20px var(--text-shadow-color),
      0 0 30px var(--text-shadow-color);
    transition: color 0.3s ease, text-shadow 0.3s ease;
  }

  body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 20px;
    background-color: var(--bg-color);
    color: var(--text-color);
    transition: background-color 0.4s, color 0.4s;
  }

  .file-container {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: center;
    padding: 10px;
  }

  .match-item {
    margin: 10px;
    text-align: center;
    border-radius: 8px;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.4s;
    background-color: var(--match-bg);
    padding: 20px;
    width: calc(25% - 20px);
    box-sizing: border-box;
    cursor: pointer;
    position: relative;
  }

  .match-item img {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto 10px auto;
    transition: box-shadow 0.3s ease;
  }

  .match-item h3,
  .match-item p {
    font-family: 'Montserrat', sans-serif;
    margin: 0;
    text-transform: uppercase;
  }

  .match-item h3 {
    font-weight: 700;
    margin-bottom: 15px;
  }

  .match-item p {
    font-weight: 400;
    margin-bottom: 15px;
  }

  .match-item p:last-of-type {
    margin-bottom: 0;
  }

  .match-item a {
    text-decoration: none;
    color: var(--link-color);
    font-weight: 700;
    display: block;
    margin-top: 5px;
    transition: color 0.3s ease;
  }

  .match-item:hover {
    transform: scale(1.05);
    box-shadow: 0 0 10px var(--hover-shadow-color);
  }

  .match-item:hover img {
    box-shadow: 0 0 15px var(--hover-shadow-color);
  }

  .match-item a:hover {
    color: var(--link-hover-color);
  }

  h1 {
    text-align: center;
    color: var(--title-color);
    margin-bottom: 10px;
    font-family: 'Montserrat', sans-serif;
  }

  #theme-toggle {
    position: fixed;
    top: 15px;
    right: 15px;
    background-color: var(--btn-primary-bg);
    color: var(--btn-primary-text);
    padding: 10px 20px;
    border-radius: 50px;
    font-weight: bold;
    font-family: 'Montserrat', sans-serif;
    border: none;
    cursor: pointer;
    box-shadow: 0 0 8px var(--btn-primary-bg);
    transition: background-color 0.3s ease;
    z-index: 1000;
    user-select: none;
  }
  #theme-toggle:hover {
    background-color: var(--btn-primary-hover-bg);
  }

  .status-live {
    color: var(--status-live-color);
    animation: glow 1s infinite alternate;
  }
  @keyframes glow {
    0% {
      text-shadow: 0 0 5px var(--status-live-color);
    }
    100% {
      text-shadow: 0 0 15px var(--status-live-color);
    }
  }
  .status-upcoming {
    color: var(--status-upcoming-color);
    opacity: 0.6;
  }

  @media (max-width: 1024px) {
    .match-item {
      width: calc(33.333% - 20px);
    }
  }
  @media (max-width: 768px) {
    .match-item {
      width: calc(50% - 20px);
    }
  }
  @media (max-width: 480px) {
    .match-item {
      width: calc(100% - 20px);
    }
  }

  .button-container {
    margin-top: 10px;
  }

  .stream-button {
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    color: white;
    background-color: var(--btn-primary-bg);
    transition: background-color 0.3s ease;
    font-weight: 700;
    font-family: 'Montserrat', sans-serif;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
  }
  .stream-button:hover {
    background-color: var(--btn-primary-hover-bg);
  }

  /* Enhanced Green glowing live dot animation */
  .live-dot {
    position: relative;
    width: 14px;
    height: 14px;
    background: #00ff00;
    border-radius: 50%;
    box-shadow:
      0 0 10px #00ff00,
      0 0 20px #00ff00,
      0 0 30px #00ff00,
      0 0 40px #00ff00;
    animation: pulseGreen 1.5s infinite;
  }
  @keyframes pulseGreen {
    0% {
      box-shadow:
        0 0 10px #00ff00,
        0 0 20px #00ff00,
        0 0 30px #00ff00,
        0 0 40px #00ff00;
    }
    50% {
      box-shadow:
        0 0 20px #00ff00,
        0 0 40px #00ff00,
        0 0 60px #00ff00,
        0 0 80px #00ff00;
    }
    100% {
      box-shadow:
        0 0 10px #00ff00,
        0 0 20px #00ff00,
        0 0 30px #00ff00,
        0 0 40px #00ff00;
    }
  }

  footer {
    text-align: center;
    padding: 20px 0 50px 0;
    color: #fff;
    background-color: #111;
    font-family: 'Montserrat', sans-serif;
    position: relative;
  }

  #footer-social {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 25px;
    margin-top: 15px;
  }

  #footer-social img.visitor-counter {
    height: 30px;
    user-select: none;
  }

  #footer-social a.social-icon {
    display: inline-flex;
    width: 36px;
    height: 36px;
    cursor: pointer;
    filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(93deg) brightness(103%) contrast(103%);
    transition: filter 0.3s ease;
    align-items: center;
    justify-content: center;
  }

  #footer-social a.social-icon svg {
    width: 24px;
    height: 24px;
  }

  #footer-social a.social-icon:hover {
    filter: invert(54%) sepia(97%) saturate(610%) hue-rotate(160deg) brightness(96%) contrast(95%);
  }
</style>
</head>
<body>
  <h1>CNP FANCODE LIVE</h1>
  <button id="theme-toggle" title="Toggle Theme" aria-label="Toggle Theme">Themes</button>
  <div class="file-container" id="matches"></div>

<script>
  const playerBaseURL = 'https://fancodez.kajju3864.workers.dev/ios=';
  const apiURL = 'https://raw.githubusercontent.com/drmlive/fancode-live-events/main/fancode.json';

  const themes = [
    {
      name: 'Black & White',
      '--bg-color': '#ffffff',
      '--text-color': '#000000',
      '--text-shadow-color': '#444444',
      '--match-bg': '#f0f0f0',
      '--btn-primary-bg': '#000000',
      '--btn-primary-hover-bg': '#222222',
      '--btn-primary-text': '#ffffff',
      '--status-live-color': '#ff0000',
      '--status-upcoming-color': '#555555',
      '--hover-shadow-color': 'rgba(0,0,0,0.5)',
      '--link-color': '#0000ee',
      '--link-hover-color': '#551a8b',
      '--title-color': '#000000'
    },
    {
      name: 'Orange & Black',
      '--bg-color': '#000000',
      '--text-color': '#ff9c33',
      '--text-shadow-color': '#ff7700',
      '--match-bg': '#180900',
      '--btn-primary-bg': '#ff6600',
      '--btn-primary-hover-bg': '#cc5500',
      '--btn-primary-text': '#000000',
      '--status-live-color': '#ff3300',
      '--status-upcoming-color': '#cc6600',
      '--hover-shadow-color': 'rgba(255,102,0,0.7)',
      '--link-color': '#ff9c33',
      '--link-hover-color': '#ffcc66',
      '--title-color': '#ff9c33'
    },
    {
      name: 'Dark Blue & Dark Black',
      '--bg-color': '#001f3f',
      '--text-color': '#e0e7ff',
      '--text-shadow-color': '#80aaff',
      '--match-bg': '#000511',
      '--btn-primary-bg': '#004080',
      '--btn-primary-hover-bg': '#002050',
      '--btn-primary-text': '#e0e7ff',
      '--status-live-color': '#00ff00',
      '--status-upcoming-color': '#999999',
      '--hover-shadow-color': 'rgba(0,72,255,0.7)',
      '--link-color': '#00bfff',
      '--link-hover-color': '#66ccff',
      '--title-color': '#00bfff'
    }
  ];

  let currentThemeIndex = 1; // Default Orange & Black

  function applyTheme(index) {
    const theme = themes[index];
    if (!theme) return;
    Object.entries(theme).forEach(([key, value]) => {
      document.documentElement.style.setProperty(key, value);
    });
  }

  applyTheme(currentThemeIndex);

  const themeToggleBtn = document.getElementById('theme-toggle');
  themeToggleBtn.textContent = `Themes (${themes[currentThemeIndex].name})`;

  themeToggleBtn.addEventListener('click', () => {
    currentThemeIndex = (currentThemeIndex + 1) % themes.length;
    applyTheme(currentThemeIndex);
    themeToggleBtn.textContent = `Themes (${themes[currentThemeIndex].name})`;
  });

  function cleanAdfreeUrl(url) {
    if (!url) return '';
    if (url.includes('in-mc-fdlive.fancode.com') || url.includes('dai.fancode.com'))
      return url.replace('28XmZCsE', '').replace('dai.fancode.com', '').replace('/mumbai/', '/primary/');
    return url;
  }

  function getImageUrl(match) {
    if (match.src) return match.src;
    return 'https://via.placeholder.com/300x200?text=No+Image';
  }

  fetch(apiURL)
    .then(response => response.json())
    .then(data => {
      data.matches.sort((a, b) => {
        if (a.status.toLowerCase() === 'live' && b.status.toLowerCase() !== 'live') return -1;
        if (a.status.toLowerCase() !== 'live' && b.status.toLowerCase() === 'live') return 1;
        return 0;
      });
      const container = document.getElementById('matches');
      data.matches.forEach(match => {
        const div = document.createElement('div');
        div.className = 'match-item';

        const statusText = match.status.toLowerCase() === 'live' ? 'Live' : 'Upcoming';
        const statusClass = match.status.toLowerCase() === 'live' ? 'status-live' : 'status-upcoming';
        const startTimeText = match.status.toLowerCase() === 'upcoming' ? '<p>Start Time: ' + match.startTime + '</p>' : '';
        const adfreeUrl = cleanAdfreeUrl(match.adfree_url);

        let liveDotHTML = '';
        let buttonLabel = 'Watch Live';
        if (match.status.toLowerCase() === 'live') {
          liveDotHTML = '<span class="live-dot" aria-label="Live Now"></span>';
        }

        div.innerHTML =
          '<img src="' + getImageUrl(match) + '" alt="' + match.title + '">' +
          '<h3>' + match.team_1 + ' vs ' + match.team_2 + '</h3>' +
          '<p class="' + statusClass + '">' + statusText + '</p>' +
          startTimeText +
          '<div class="button-container">' +
          '<button class="stream-button dai-button" aria-label="Watch ' + buttonLabel + '">' +
          liveDotHTML + buttonLabel +
          '</button>' +
          '</div>';

        const watchNormalBtn = div.querySelector('.dai-button');

        watchNormalBtn.addEventListener('click', e => {
          e.stopPropagation();
          if (match.dai_url) {
            window.location.href = playerBaseURL + match.dai_url;
          } else {
            alert('No Normal stream available.');
          }
        });

        div.addEventListener('click', () => {
          if (match.status.toLowerCase() === 'live') {
            alert('This match is live. Click the button to watch.');
          } else if (match.status.toLowerCase() === 'upcoming') {
            alert('This match is upcoming.');
          }
        });

        container.appendChild(div);
      });
    })
    .catch(err => console.error('Error fetching data:', err));
</script>

<footer>
  ©Sayan 2023 - <span id="current-year"></span> | All Rights Reserved
  <div id="footer-social" role="contentinfo">
    <img class="visitor-counter" src="https://visit-counter.vercel.app/counter.png?page=https%3A%2F%2Fjio-fancode.pages.dev%2F&s=55&c=ff00d9&bg=00000000&no=8&ff=digi&tb=&ta=" alt="Visitor Counter" />
    <a href="https://whatsapp.com/channel/0029Va9UKhEL7UVN6cfr8a16" target="_blank" rel="noopener noreferrer" class="social-icon" title="WhatsApp Channel" aria-label="WhatsApp Channel">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="width: 100%; height: 100%;">
        <path d="M20.52 3.48A11.93 11.93 0 0 0 12 1C6.48 1 2 5.48 2 11c0 1.94.6 3.73 1.62 5.24L2 22l5.92-1.53a11.94 11.94 0 0 0 4.08.7c5.52 0 10-4.48 10-10 0-2.66-1.04-5.18-2.48-7.19Zm-8.52 14a8.33 8.33 0 0 1-4.5-1.34l-.32-.19-3.52.91.94-3.43-.21-.34a8.34 8.34 0 1 1 7.61 4.39Zm4.56-5.14c-.25-.12-1.46-.72-1.68-.8-.22-.08-.38-.12-.54.12s-.62.8-.76.96c-.14.16-.28.18-.53.06-.25-.12-1.05-.39-2-1.23-.74-.66-1.24-1.48-1.39-1.73-.15-.25-.02-.38.11-.5.12-.12.25-.3.38-.45.12-.15.16-.25.25-.42.08-.17.04-.31-.02-.43-.06-.12-.54-1.3-.74-1.78-.2-.47-.4-.4-.54-.4-.14 0-.3-.02-.46-.02a1.15 1.15 0 0 0-.54.25c-.18.17-.7.68-.7 1.66 0 .97.72 1.9.82 2.04.1.14 1.42 2.17 3.44 3.04.48.21.85.34 1.14.44.48.16.92.14 1.27.09.39-.06 1.46-.6 1.67-1.18.22-.58.22-1.07.15-1.18-.07-.1-.25-.16-.5-.28Z"/>
      </svg>
    </a>
    <a href="https://t.me/sayan_xyz?text=I%27m%20JIO%20FANCODE%20VISITOR" target="_blank" rel="noopener noreferrer" class="social-icon" title="Telegram Chat" aria-label="Telegram Chat">
      <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" style="width: 100%; height: 100%;">
        <path d="M21.72 3.293a1.003 1.003 0 0 0-1.176-.176L3.493 10.86a1 1 0 0 0 .005 1.81l4.65 2.726 2.287 6.902a1 1 0 0 0 1.74.306L21.72 3.293ZM9.14 15.01l6.272-6.273-7.953 4.617 1.68 1.656Z"/>
      </svg>
    </a>
  </div>
</footer>
<script>
  document.getElementById('current-year').textContent = new Date().getFullYear();
</script>
</body>
</html>
