<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CNP FANCODE LIVE - BY SAYAN</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;700&display=swap" />

<style>
  :root {
    --bg-color: #222;
    --text-color: #fff;
    --match-bg: #333;
    --btn-primary-bg: #ff6600;
    --btn-primary-hover-bg: #cc5500;
    --btn-primary-text: #fff;
    --status-live-color: #00ff00;     /* ‡¶∏‡¶¨‡ßÅ‡¶ú (Live) */
    --status-upcoming-color: #ff0000; /* ‡¶≤‡¶æ‡¶≤ (Upcoming) */
    --title-color: #ff6600;
  }

  body {
    margin: 0;
    font-family: 'Roboto', sans-serif;
    background-color: var(--bg-color);
    color: var(--text-color);
    position: relative;
    overflow-x: hidden;
  }

  /* Particle Background */
  #particles-js {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: -1;
  }

  /* HEADER */
  header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 15px 30px;
    background: #111;
    border-bottom: 2px solid #333;
    position: relative;
    z-index: 10;
  }
  header h1 {
    font-family: 'Montserrat', sans-serif;
    font-size: 2.2em;
    color: var(--title-color);
    margin: 0;
  }
  .header-buttons {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  #whatsapp-btn, #telegram-btn {
    padding: 8px 14px;
    border: none;
    border-radius: 40px;
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    font-size: 12px;
    cursor: pointer;
    transition: 0.3s;
  }
  #whatsapp-btn {
    background-color: #25D366;
    color: #fff;
    box-shadow: 0 0 6px rgba(37, 211, 102, 0.8);
  }
  #whatsapp-btn:hover { background-color: #1DA851; }
  #telegram-btn {
    background-color: #229ED9;
    color: #fff;
    box-shadow: 0 0 6px rgba(34, 158, 217, 0.8);
  }
  #telegram-btn:hover { background-color: #1A80B9; }

  /* Last update */
  #last-update {
    text-align: center;
    font-size: 14px;
    margin: 10px 0;
    color: #ccc;
    position: relative;
    z-index: 5;
  }

  /* Matches */
  .file-container {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
    padding: 10px 20px;
    position: relative;
    z-index: 5;
  }
  .match-item {
    background-color: var(--match-bg);
    border-radius: 10px;
    width: calc(25% - 20px);
    min-width: 250px;
    padding: 15px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    transition: 0.3s;
  }
  .match-item img {
    width: 100%; border-radius: 8px;
  }
  .match-details { margin-top: 10px; text-align: center; }
  .match-details h3 {
    margin: 5px 0; font-family: 'Montserrat', sans-serif;
    font-weight: 700; font-size: 1.2em;
  }
  .status { display: flex; align-items: center; justify-content: center; margin: 5px 0; font-weight: bold; }
  .status-live { color: var(--status-live-color); }
  .status-upcoming { color: var(--status-upcoming-color); }

  .live-dot {
    width: 14px; height: 14px;
    border-radius: 50%; margin-right: 8px;
    animation: pulse 1.5s infinite;
  }
  .live-dot-green { background: var(--status-live-color); }
  .live-dot-red { background: var(--status-upcoming-color); }

  @keyframes pulse {
    0%{transform:scale(1);}
    50%{transform:scale(1.3);}
    100%{transform:scale(1);}
  }

  .stream-button {
    margin-top: 10px;
    padding: 10px 15px;
    border: none; border-radius: 8px;
    font-family: 'Montserrat', sans-serif;
    font-weight: 700; cursor: pointer;
    width: 100%;
    background-color: var(--btn-primary-bg);
    color: var(--btn-primary-text);
    transition: 0.3s;
  }
  .stream-button:hover { background-color: var(--btn-primary-hover-bg); }
  .stream-button.live { background: #28a745; }
  .stream-button.live:hover { background: #218838; }

  /* FOOTER */
  footer {
    background: #111;
    color: #fff;
    text-align: center;
    padding: 40px 20px;
    margin-top: 40px;
    position: relative;
    z-index: 5;
  }
  footer .links {
    margin-top: 10px;
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
  }
  footer a { color: #66ccff; text-decoration: none; }
  footer a:hover { text-decoration: underline; }
  footer small { display: block; margin-top: 12px; color: #aaa; }
  footer .visitor {
    margin-top: 15px;
    font-size: 14px;
    color: #ccc;
  }
</style>
</head>
<body>

<header>
  <h1 id="typed-title"></h1>
  <div class="header-buttons">
    <button id="whatsapp-btn">WhatsApp</button>
    <button id="telegram-btn">Feedback Now</button>
  </div>
</header>

<div id="last-update">Last Update: Loading...</div>
<div class="file-container" id="matches"></div>

<div id="particles-js"></div>

<script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
<script>
  // Typing animation
  new Typed('#typed-title', {
    strings: ["CNP FANCODE"],
    typeSpeed: 70,
    backSpeed: 40,
    backDelay: 2000,
    loop: true
  });

  // Particle bg
  particlesJS('particles-js', {
    "particles": {
      "number": { "value": 70 },
      "color": { "value": "#fff" },
      "size": { "value": 4, "random": true },
      "line_linked": { "enable": true, "color": "#fff" },
      "move": { "enable": true, "speed": 4 }
    },
    "retina_detect": true
  });

  // Buttons
  document.getElementById('whatsapp-btn').onclick = () => window.open('https://whatsapp.com/channel/0029VaeylYYBPzjVNomWuZ0T','_blank');
  document.getElementById('telegram-btn').onclick = () => window.open('https://t.me/sayan_xyz','_blank');

  const apiURL = 'https://raw.githubusercontent.com/drmlive/fancode-live-events/main/fancode.json';
  const playerBaseURL = 'https://sports.sonuxcricket.workers.dev/ios=';

  function isWazLive(match){
    const t = (match.title||"").toLowerCase();
    return t.includes("‡¶ì‡¶Ø‡¶º‡¶æ‡¶ú ‡¶≤‡¶æ‡¶á‡¶≠") || t.includes("waz live");
  }

  fetch(apiURL).then(r=>r.json()).then(data=>{
    document.getElementById('last-update').textContent = "Last Update: " + data["last update time"];

    const container=document.getElementById('matches');
    data.matches.sort((a,b)=>{
      if(a.status.toLowerCase()==="live" && b.status.toLowerCase()!=="live") return -1;
      if(a.status.toLowerCase()!=="live" && b.status.toLowerCase()==="live") return 1;
      return 0;
    });

    data.matches.forEach(match=>{
      const div=document.createElement('div');
      div.className="match-item";

      let dotClass="live-dot-green";  // Live = ‡¶∏‡¶¨‡ßÅ‡¶ú
      let statusClass="status-live";
      let statusText="Live";

      if(match.status?.toLowerCase()==="upcoming"){
        dotClass="live-dot-red";      // Upcoming = ‡¶≤‡¶æ‡¶≤
        statusClass="status-upcoming";
        statusText="Upcoming";
      }

      div.innerHTML=`
        <img src="${match.src||'https://via.placeholder.com/300x200?text=No+Image'}" alt="${match.title}">
        <div class="match-details">
          <h3>${match.team_1} vs ${match.team_2}</h3>
          <div class="${statusClass}"><div class="live-dot ${dotClass}"></div>${statusText}</div>
          ${match.status?.toLowerCase()==="upcoming"?`<p>Start Time: ${match.startTime}</p>`:""}
          <button class="stream-button ${match.status?.toLowerCase()==="live"?"live":""}">
            ${match.status?.toLowerCase()==="live" ? `<div class="live-dot ${dotClass}"></div>`:""}
            Watch ${match.status?.toLowerCase()==="live"?"Now":match.startTime}
          </button>
        </div>`;
      div.querySelector('.stream-button').onclick=(e)=>{
        e.stopPropagation();
        if(match.dai_url){ window.location.href=playerBaseURL+match.dai_url; }
        else alert("No stream available.");
      };
      container.appendChild(div);
    });
  });
</script>

<footer>
  <div>¬© 2025 Sayan | All Rights Reserved</div>
  <div class="links">
    <a href="https://t.me/sayan_xyz" target="_blank">Telegram</a>
    <a href="#">About</a>
    <a href="#">Contact</a>
  </div>
  <div class="visitor">
    Visitor Count:  
    <img src="https://visit-counter.vercel.app/counter.png?page=https%3A%2F%2Ffamcode.onrender.com&s=52&c=0090ff&bg=00000000&no=1&ff=digi&tb=&ta=" alt="Visitor Counter" />
  </div>
  <small>Made with ‚ù§Ô∏è by Sayan | Powered by üôÇüáÆüá≥ </small>
</footer>

</body>
  </html>
